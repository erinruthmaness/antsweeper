{"version":3,"sources":["Components/WindowHeader/OptionDropdown/OptionDropdown.module.css","Components/WindowHeader/TitleBar/TitleBar.module.css","Components/Game/CalcScreen/CalcScreen.module.css","Components/Modal/Modal/Modal.module.css","Components/WindowHeader/OptionWrapper/OptionWrapper.module.css","Components/Game/Square/Square.module.css","Components/Background/Footer/Footer.module.css","Components/Modal/About/About.module.css","Components/Background/Window/Window.module.css","Components/Modal/Overlay/Overlay.module.css","Components/Game/Board/Board.module.css","Components/WindowHeader/OptionsBar/OptionsBar.module.css","Components/Game/FaceButton/FaceButton.module.css","Components/Game/Controls/Controls.module.css","Components/Game/RowWrapper/RowWrapper.module.css","Components/Background/App/App.module.css","utils/reducers/roundReducer.js","utils/store/initialState/round.js","utils/store/roundContext.js","utils/store/initialState/paramLevels.js","utils/store/paramsContext.js","utils/store/userContext.js","hooks/useDragMove.js","utils/store/windowContext.js","hooks/useTrapFocus.js","utils/logic/keyHandler.js","Components/Modal/Modal/Modal.js","Components/Modal/Overlay/Overlay.js","imgs/icons.js","Components/WindowHeader/TitleBar/TitleBar.js","Components/WindowHeader/GameMenu/GameMenu.js","Components/Modal/About/About.js","Components/WindowHeader/HelpMenu/HelpMenu.js","Components/WindowHeader/OptionDropdown/OptionDropdown.js","Components/WindowHeader/OptionWrapper/OptionWrapper.js","Components/WindowHeader/OptionsBar/OptionsBar.js","Components/WindowHeader/MenuBar/MenuBar.js","utils/reducers/boardReducer.js","utils/store/initialState/board.js","Components/Game/FaceButton/FaceButton.js","utils/logic/helpers.js","Components/Game/CalcScreen/CalcScreen.js","Components/Game/Controls/Controls.js","utils/logic/read.js","Components/Game/Square/Square.js","Components/Game/RowWrapper/RowWrapper.js","utils/store/initialState/square.js","Components/Game/Board/logic/newRound.js","Components/Game/Board/logic/startRound.js","Components/Game/Board/logic/endRound.js","Components/Game/Board/logic/clickHandler.js","Components/Game/Board/Board.js","Components/Background/Window/Window.js","imgs/win98Logo.png","Components/Background/Footer/Footer.js","Components/Background/App/App.js","index.js"],"names":["module","exports","roundReducer","state","action","type","console","log","ready","started","payload","initialRound","defaultContext","set","start","lost","won","reset","roundContext","React","createContext","RoundCtxProvider","props","useReducer","roundState","dispatchRound","Provider","value","children","levels","beginner","rows","cols","ants","level","intermediate","expert","setParameters","params","paramContext","ParamCtxProvider","useState","setParams","newParam","click","last","current","e","key","userContext","UserCtxProvider","lastClick","setLastClick","currentClick","setCurrentClick","lastKey","setLastKey","currentKey","setCurrentKey","handleClick","useCallback","handleKeyPress","useDragMove","x","y","translate","setTranslate","isDragging","setIsDragging","drop","grab","drag","clientY","clientX","view","innerWidth","prevState","movementX","movementY","overlay","display","modalContent","hide","show","modal","content","dragMove","minimize","isMinimized","down","up","windowContext","WindowCtxProvider","overlayState","setOverlayState","overlayContent","setOverlayContent","setIsMinimized","title","useTrapFocus","ref","useRef","focusableElements","setFocusableElements","activeIndex","setActiveIndex","next","i","length","focus","previous","useEffect","querySelectorAll","keyHandler","keyName","callback","shiftCallback","trim","shiftKey","preventDefault","Modal","modalDrag","cursorStyle","trapFocus","className","styles","style","transform","onKeyDown","dismiss","tabIndex","titleStyles","titleBar","onPointerDown","onPointerUp","onPointerOut","onPointerMove","onMouseOver","cursor","titleBar__left","id","modal__title","titleBar__right","onClick","modal__contentWrapper","modal__text","modal__buttonWrapper","modal__button","Overlay","windowCtx","useContext","popupDiv","overlay_hide","squares","unclicked","clicked","ant","flag","faces","sleeping","smiling","yelling","upsideDown","exploded","shades","xEyes","sweating","winking","TitleBar","String","fromCharCode","disabled","GameMenu","paramCtx","roundCtx","dropdown__section","map","lvl","handleSelect","charAt","toUpperCase","slice","About","emailCopied","setEmailCopied","copyText","navigator","clipboard","writeText","tooltip","onKeyPress","tooltip__text","HelpMenu","href","target","rel","OptionDropdown","dropdown","which","OptionWrapper","userCtx","setDropdown","listenForGlobalClick","setListenForGlobalClick","handleDown","handleUp","timer","setTimeout","clearTimeout","buttonText","optionButton__wrapper","optionButton","OptionsBar","optionsBar","MenuBar","boardReducer","board","face","getInitialBoard","paramContextOBJ","parameters","antList","flags","FaceButton","faceButton","assessDigit","string","num","toString","CalcScreen","displayNum","padStart","split","calcScreen","digit","digitIdx","digit__top","digit__half","digit__bottom","Controls","clock","setClock","firstClick","clockStarted","setClockStarted","inProgress","setInterval","prevTime","clearInterval","controls","startGame","squareHandler","squareResponse","whichClick","whichFace","touchStart","flagged","touchEnd","count","mouseDown","whichNum","squareProps","wasClicked","clickType","wasTouched","touchLength","Square","countRef","parseClick","event","eventString","gameOver","sq","revealed","nativeEvent","downResult","changeFace","updateSquare","parseTouch","endResult","leftOrRight","square","nearbyAnts","unclickedAnt","firstAnt","onMouseDown","onMouseUp","undefined","onTouchStart","onTouchEnd","onContextMenu","Array","isArray","RowWrapper","boardGrid","row","index","board_row","handleSquareClick","setFace","gameInProgress","buildSquare","neighbors","newRound","from","col","buildAnthill","boardArea","numAnts","starterArray","idx","array","j","Math","floor","random","shuffle","assignAnts","boardState","antArray","counter","antMasterlist","forEach","cell","push","antInFirstClick","reservedNeighborhood","foundMatch","some","el","horizontalNeighbors","myIndex","buildNeighborhood","wholeBoard","rowAbove","myRow","rowBelow","concat","startRound","newBoard","neighborhood","filter","addAnts","endRound","recursiveUncover","centerSquare","uncoverNeighbors","startingSquare","updatedBoard","replaceSquareInBoard","newSquare","tempBoard","playerMoveReducer","newBoardState","allAnts","indexOf","tempFace","tempGameOver","gameParams","unclickedSafe","checkForWin","Board","paramsContext","dispatchBoard","restartRound","boardWithAnts","gameWrapper","boardWrapper","newFace","Window","animation","setAnimation","minComplete","setMinComplete","maxComplete","setMaxComplete","window","onAnimationEnd","onAnimationStart","Footer","gameWindowButtonStyle","gameWindowButton","bg__footer","startButton","src","win98logo","alt","App","document","addEventListener","window_container","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.84d7deac.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdown\":\"OptionDropdown_dropdown__38DRP\",\"dropdown--open\":\"OptionDropdown_dropdown--open__33UTA\",\"slideup\":\"OptionDropdown_slideup__2pYIm\",\"dropdown__section\":\"OptionDropdown_dropdown__section__3j9XG\",\"delayRender\":\"OptionDropdown_delayRender__3rVI5\",\"--comingSoon\":\"OptionDropdown_--comingSoon__2sopC\",\"--secondaryLetter\":\"OptionDropdown_--secondaryLetter__11di5\",\"--selected\":\"OptionDropdown_--selected__TfmbY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleBar\":\"TitleBar_titleBar__2RV-D\",\"titleBar--inactive\":\"TitleBar_titleBar--inactive__29J5I\",\"titleBar__left\":\"TitleBar_titleBar__left__3-CBo\",\"titleBar__right\":\"TitleBar_titleBar__right__jGHgj\",\"--minimize\":\"TitleBar_--minimize__2uDpQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"calcScreen\":\"CalcScreen_calcScreen__RRwXz\",\"digit\":\"CalcScreen_digit__3VlIu\",\"digit__half\":\"CalcScreen_digit__half__1eycv\",\"digit--0\":\"CalcScreen_digit--0__1KEH2\",\"digit__top\":\"CalcScreen_digit__top__1HcA_\",\"digit__bottom\":\"CalcScreen_digit__bottom__1ewoz\",\"digit--4\":\"CalcScreen_digit--4__bd3kX\",\"digit--1\":\"CalcScreen_digit--1__2KQOB\",\"digit--7\":\"CalcScreen_digit--7__2xAR6\",\"digit--2\":\"CalcScreen_digit--2__1qZG-\",\"digit--5\":\"CalcScreen_digit--5__21DdK\",\"digit--3\":\"CalcScreen_digit--3__2vEfU\",\"digit--9\":\"CalcScreen_digit--9__1HSCG\",\"digit--6\":\"CalcScreen_digit--6__3O4Ms\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__yPXXe\",\"modal__title\":\"Modal_modal__title__o1iZp\",\"modal__contentWrapper\":\"Modal_modal__contentWrapper__2i-hy\",\"modal__text\":\"Modal_modal__text__Yqd0o\",\"modal__button\":\"Modal_modal__button__dEVgJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"optionButton__wrapper\":\"OptionWrapper_optionButton__wrapper__-QcGI\",\"optionButton\":\"OptionWrapper_optionButton__3MnEC\",\"optionButton--clicked\":\"OptionWrapper_optionButton--clicked__15pvZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"square\":\"Square_square__29Uf2\",\"square--clicked\":\"Square_square--clicked__3goIH\",\"nearbys--0\":\"Square_nearbys--0__3B9BU\",\"nearbys--1\":\"Square_nearbys--1__2rv_l\",\"nearbys--2\":\"Square_nearbys--2__AyuRe\",\"nearbys--3\":\"Square_nearbys--3__y_IXO\",\"nearbys--4\":\"Square_nearbys--4__297eu\",\"nearbys--5\":\"Square_nearbys--5__n-yGU\",\"nearbys--6\":\"Square_nearbys--6__3Cc6G\",\"nearbys--7\":\"Square_nearbys--7__2TQc2\",\"nearbys--8\":\"Square_nearbys--8__3TuG9\",\"firstAnt\":\"Square_firstAnt__2p3BC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bg__footer\":\"Footer_bg__footer__1Ec9g\",\"startButton\":\"Footer_startButton__3c_D7\",\"gameWindowButton\":\"Footer_gameWindowButton__161nZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tooltip\":\"About_tooltip__11UOO\",\"--emailCopied\":\"About_--emailCopied__1sOyL\",\"tooltip__text\":\"About_tooltip__text__38Jol\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"window\":\"Window_window__2b0FV\",\"window--minimizing\":\"Window_window--minimizing__BFh_I\",\"minimize\":\"Window_minimize__2n5Ja\",\"window--maximizing\":\"Window_window--maximizing__1nHfA\",\"window--minimized\":\"Window_window--minimized__1UDuv\",\"maximize\":\"Window_maximize__3DVgN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Overlay_overlay__3V6Nm\",\"overlay_hide\":\"Overlay_overlay_hide__3172W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gameWrapper\":\"Board_gameWrapper__1GUZw\",\"boardWrapper\":\"Board_boardWrapper__2nasP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"optionsBar\":\"OptionsBar_optionsBar__15dYm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"faceButton\":\"FaceButton_faceButton__2SmbD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__3MjnT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"board_row\":\"RowWrapper_board_row__1tOdI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"window_container\":\"App_window_container__1hSHD\"};","const roundReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"BOARD_SET\":\r\n        console.log(\"ROUND REDUCER board set\")\r\n      return { ...state, ready: true, started: false };\r\n    case \"START_ROUND\":\r\n        console.log(\"ROUND REDUCER start round\")\r\n      return { ...state, started: true };\r\n    case \"WON\":\r\n    case \"LOST\":\r\n        console.log(\"ROUND REDUCER won/lost\")\r\n      return { ...state, ready: false };\r\n    case \"RESET\":\r\n        console.log(\"ROUND REDUCER reset\")\r\n      return { ...action.payload };\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n\r\nexport default roundReducer;\r\n","const initialRound = {\r\n  ready: false,\r\n  started: false,\r\n};\r\n\r\nexport default initialRound;\r\n","import React, { useReducer } from \"react\";\r\nimport roundReducer from \"../reducers/roundReducer\";\r\nimport initialRound from \"./initialState/round\";\r\n\r\n//for IDE completion\r\nconst defaultContext = {\r\n  ready: null,\r\n  started: null,\r\n  set: {\r\n    ready: () => {},\r\n    start: () => {},\r\n    lost: () => {},\r\n    won: () => {},\r\n    reset: () => {},\r\n  },\r\n};\r\nconst roundContext = React.createContext(defaultContext);\r\nexport default roundContext;\r\n\r\nexport const RoundCtxProvider = (props) => {\r\n  const [roundState, dispatchRound] = useReducer(roundReducer, initialRound);\r\n\r\n  const set = {\r\n    ready: () => {\r\n      dispatchRound({ type: \"BOARD_SET\" });\r\n    },\r\n    start: () => {\r\n      dispatchRound({ type: \"START_ROUND\" });\r\n    },\r\n    lost: () => {\r\n      dispatchRound({ type: \"LOST\" });\r\n    },\r\n    won: () => {\r\n      dispatchRound({ type: \"WON\" });\r\n    },\r\n    reset: () => {\r\n      dispatchRound({ type: \"RESET\", payload: { ...initialRound } });\r\n    },\r\n  };\r\n\r\n  return (\r\n    <roundContext.Provider value={{ ...roundState, set: set }}>\r\n      {props.children}\r\n    </roundContext.Provider>\r\n  );\r\n};\r\n","const levels = {\r\n  beginner: {\r\n    rows: 8,\r\n    cols: 8,\r\n    ants: 10,\r\n    level: \"beginner\"\r\n  },\r\n  intermediate: {\r\n    rows: 16,\r\n    cols: 16,\r\n    ants: 40,\r\n    level: \"intermediate\"\r\n  },\r\n  expert: {\r\n    rows: 24,\r\n    cols: 24,\r\n    ants: 99,\r\n    level: \"expert\"\r\n  },\r\n};\r\n\r\nexport default levels;\r\n","import React, { useState } from \"react\";\r\nimport levels from \"./initialState/paramLevels\";\r\n\r\n//for IDE completion\r\nconst defaultContext = {\r\n\trows: null,\r\n\tcols: null,\r\n\tants: null,\r\n\tsetParameters: (params) => {},\r\n};\r\nconst paramContext = React.createContext(defaultContext);\r\nexport default paramContext;\r\n\r\nexport const ParamCtxProvider = (props) => {\r\n\tconst [params, setParams] = useState(levels.beginner);\r\n\r\n\tconst setParameters = (newParam) => {\r\n\t\tsetParams(newParam);\r\n\t\tconsole.log(\"PARAMS CONTEXT changing params\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<paramContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\t...params,\r\n\t\t\t\tsetParameters: setParameters,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{props.children}\r\n\t\t</paramContext.Provider>\r\n\t);\r\n};\r\n","import React, { useCallback, /*useEffect,*/ useState } from \"react\";\r\n\r\n//for IDE completion\r\nconst defaultContext = {\r\n\tclick: {\r\n\t\tlast: null,\r\n\t\tcurrent: null,\r\n\t\tset: (e) => {},\r\n\t},\r\n\tkey: {\r\n\t\tlast: null,\r\n\t\tcurrent: null,\r\n\t\tset: (e) => {},\r\n\t},\r\n};\r\nconst userContext = React.createContext(defaultContext);\r\nexport default userContext;\r\n\r\nexport const UserCtxProvider = (props) => {\r\n\tconst [lastClick, setLastClick] = useState(null);\r\n\tconst [currentClick, setCurrentClick] = useState(null);\r\n\tconst [lastKey, setLastKey] = useState(null);\r\n\tconst [currentKey, setCurrentKey] = useState(null);\r\n\r\n\tconst handleClick = useCallback(\r\n\t\t(e) => {\r\n\t\t\tsetLastClick(currentClick);\r\n\t\t\tsetCurrentClick(e);\r\n\t\t},\r\n\t\t[currentClick]\r\n\t);\r\n\r\n\tconst handleKeyPress = useCallback(\r\n\t\t(e) => {\r\n\t\t\tsetLastKey(currentKey);\r\n\t\t\tsetCurrentKey(e);\r\n\t\t},\r\n\t\t[currentKey]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<userContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tclick: {\r\n\t\t\t\t\tlast: lastClick,\r\n\t\t\t\t\tcurrent: currentClick,\r\n\t\t\t\t\tset: handleClick,\r\n\t\t\t\t},\r\n\t\t\t\tkey: {\r\n\t\t\t\t\tlast: lastKey,\r\n\t\t\t\t\tcurrent: currentKey,\r\n\t\t\t\t\tset: handleKeyPress,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{props.children}\r\n\t\t</userContext.Provider>\r\n\t);\r\n};\r\n","import { useState } from \"react\";\r\n\r\nconst useDragMove = () => {\r\n\tconst [translate, setTranslate] = useState({ x: 0, y: 0 });\r\n\tconst [isDragging, setIsDragging] = useState(false);\r\n\tconst grab = () => {\r\n\t\tsetIsDragging(true);\r\n\t};\r\n\tconst drag = (e) => {\r\n\t\tif (isDragging) {\r\n\t\t\tconst minMargin = 20;\r\n\t\t\tif (\r\n\t\t\t\te.clientY > minMargin &&\r\n\t\t\t\te.clientX > minMargin &&\r\n\t\t\t\te.clientX < e.view.innerWidth - minMargin\r\n\t\t\t) {\r\n\t\t\t\tsetTranslate((prevState) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tx: prevState.x + e.movementX,\r\n\t\t\t\t\t\ty: prevState.y + e.movementY,\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetTranslate({\r\n\t\t\t\t\tx: 0,\r\n\t\t\t\t\ty: 0,\r\n\t\t\t\t});\r\n\t\t\t\tdrop();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tconst drop = () => {\r\n\t\tsetIsDragging(false);\r\n\t};\r\n\r\n\treturn {\r\n\t\tisDragging,\r\n\t\tgrab,\r\n\t\tdrag,\r\n\t\tdrop,\r\n\t\ttranslate,\r\n\t};\r\n};\r\n\r\nexport default useDragMove;\r\n","import React, { useState } from \"react\";\r\nimport { RoundCtxProvider } from \"./roundContext\";\r\nimport { ParamCtxProvider } from \"./paramsContext\";\r\nimport { UserCtxProvider } from \"./userContext\";\r\nimport useDragMove from \"../../hooks/useDragMove\";\r\n\r\n//for IDE completion\r\nconst defaultContext = {\r\n\toverlay: {\r\n\t\tdisplay: null,\r\n\t\tmodalContent: null,\r\n\t\thide: () => {},\r\n\t\tshow: () => {},\r\n\t\tmodal: (content) => {},\r\n\t},\r\n\tdragMove: {\r\n\t\ttranslate: {\r\n\t\t\tx: null,\r\n\t\t\ty: null,\r\n\t\t},\r\n\t\tisDragging: null,\r\n\t\tgrab: () => {},\r\n\t\tdrag: (e) => {},\r\n\t\tdrop: () => {},\r\n\t},\r\n\tminimize: {\r\n\t\tisMinimized: null,\r\n\t\tdown: () => {},\r\n\t\tup: () => {},\r\n\t},\r\n};\r\nconst windowContext = React.createContext(defaultContext);\r\nexport default windowContext;\r\n\r\nexport const WindowCtxProvider = (props) => {\r\n\t//------overlay------\r\n\tconst [overlayState, setOverlayState] = useState(false);\r\n\tconst [overlayContent, setOverlayContent] = useState(null);\r\n\tconst hide = () => {\r\n\t\tif (overlayState) {\r\n\t\t\tsetOverlayState(false);\r\n\t\t}\r\n\t\tif (overlayContent) {\r\n\t\t\tsetOverlayContent(null);\r\n\t\t}\r\n\t\t// document.getElementsByTagName(\"main\").focus();\r\n\t};\r\n\tconst show = () => {\r\n\t\tif (!overlayState) {\r\n\t\t\tsetOverlayState(true);\r\n\t\t}\r\n\t};\r\n\tconst modal = (title, content) => {\r\n\t\tsetOverlayContent({ title, content });\r\n\t\tif (!overlayState) {\r\n\t\t\tshow();\r\n\t\t}\r\n\t};\r\n\t//------minimize------\r\n\tconst [isMinimized, setIsMinimized] = useState(false);\r\n\tconst down = () => {\r\n\t\tsetIsMinimized(true);\r\n\t};\r\n\tconst up = () => {\r\n\t\tsetIsMinimized(false);\r\n\t};\r\n\t//------dragMove------\r\n\tconst dragMove = useDragMove();\r\n\r\n\treturn (\r\n\t\t<windowContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\toverlay: {\r\n\t\t\t\t\tdisplay: overlayState,\r\n\t\t\t\t\tmodalContent: overlayContent,\r\n\t\t\t\t\thide,\r\n\t\t\t\t\tshow,\r\n\t\t\t\t\tmodal,\r\n\t\t\t\t},\r\n\t\t\t\tdragMove,\r\n\t\t\t\tminimize: {\r\n\t\t\t\t\tisMinimized,\r\n\t\t\t\t\tdown,\r\n\t\t\t\t\tup,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<ParamCtxProvider>\r\n\t\t\t\t<RoundCtxProvider>\r\n\t\t\t\t\t<UserCtxProvider>{props.children}</UserCtxProvider>\r\n\t\t\t\t</RoundCtxProvider>\r\n\t\t\t</ParamCtxProvider>\r\n\t\t</windowContext.Provider>\r\n\t);\r\n};\r\n","import { useRef, useEffect, useState, useCallback } from \"react\";\r\n\r\n/*==================================================/\r\n/ code adapted from Colete Wilson's codepen:        /\r\n/ https://codepen.io/colette-wilson/pen/NWpBPEy     /\r\n/==================================================*/\r\n\r\nconst useTrapFocus = () => {\r\n\t//use the ref to identify the element that will receive focus\r\n\tconst ref = useRef();\r\n\t//dynamically populated on render\r\n\tconst [focusableElements, setFocusableElements] = useState([]);\r\n\tconst [activeIndex, setActiveIndex] = useState(-1);\r\n\r\n\t//manually direct tab to elements within ref area\r\n\tconst next = useCallback(() => {\r\n\t\tlet i = activeIndex;\r\n\t\tactiveIndex + 1 === focusableElements.length ? (i = 0) : (i += 1);\r\n\t\tfocusableElements[i].focus();\r\n\t\tsetActiveIndex(i);\r\n\t}, [focusableElements, activeIndex]);\r\n\r\n\t//manually direct shift+tab to elements within ref area\r\n\tconst previous = useCallback(() => {\r\n\t\tlet i = activeIndex;\r\n\t\tactiveIndex - 1 < 0 ? (i = focusableElements.length - 1) : (i -= 1);\r\n\t\tfocusableElements[i].focus();\r\n\t\tsetActiveIndex(i);\r\n\t}, [focusableElements, activeIndex]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (ref.current) {\r\n\t\t\t// Select all focusable elements within ref (including ref)\r\n\t\t\tsetFocusableElements([\r\n\t\t\t\tref.current,\r\n\t\t\t\t...ref.current.querySelectorAll(\r\n\t\t\t\t\t\"a, button, textarea, input, select, .focusable\"\r\n\t\t\t\t),\r\n\t\t\t]);\r\n\t\t}\r\n\t}, [ref]);\r\n\treturn { ref, next, previous };\r\n};\r\n\r\nexport default useTrapFocus;\r\n","const keyHandler = (keyName, callback = null, shiftCallback = null, e) => {\r\n\tif (e.key === keyName.trim()) {\r\n\t\tconsole.log(`${e.key} detected!`);\r\n\t\tif (shiftCallback && e.shiftKey) {\r\n\t\t\tshiftCallback();\r\n\t\t}\r\n\t\tif (callback && !e.shiftKey) {\r\n\t\t\tcallback();\r\n\t\t}\r\n\t\te.preventDefault();\r\n\t}\r\n};\r\nexport default keyHandler;\r\n","import useDragMove from \"../../../hooks/useDragMove\";\r\nimport useTrapFocus from \"../../../hooks/useTrapFocus\";\r\nimport keyHandler from \"../../../utils/logic/keyHandler\";\r\n\r\nimport styles from \"./Modal.module.css\";\r\nimport titleStyles from \"../../WindowHeader/TitleBar/TitleBar.module.css\";\r\n\r\nconst Modal = (props) => {\r\n\tconst modalDrag = useDragMove();\r\n\tconst cursorStyle = modalDrag.isDragging ? \"grabbing\" : \"grab\";\r\n\r\n\tconst trapFocus = useTrapFocus();\r\n\r\n\tconst handleModalKeypress = (e) => {\r\n\t\tkeyHandler(\"Escape\", props.dismiss, null, e);\r\n\t\tkeyHandler(\"Tab\", trapFocus.next, trapFocus.previous, e);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<article\r\n\t\t\tref={trapFocus.ref}\r\n\t\t\tclassName={`focusable ${styles.modal}`}\r\n\t\t\tstyle={{\r\n\t\t\t\ttransform: `translateX(${modalDrag.translate.x}px) translateY(${modalDrag.translate.y}px)`,\r\n\t\t\t}}\r\n\t\t\tonKeyDown={handleModalKeypress}\r\n\t\t\ttabIndex={0}\r\n\t\t>\r\n\t\t\t<nav\r\n\t\t\t\tclassName={titleStyles.titleBar}\r\n\t\t\t\tonPointerDown={modalDrag.grab}\r\n\t\t\t\tonPointerUp={modalDrag.drop}\r\n\t\t\t\tonPointerOut={modalDrag.drop}\r\n\t\t\t\tonPointerMove={modalDrag.drag}\r\n\t\t\t\tonMouseOver={null}\r\n\t\t\t\tstyle={{ cursor: cursorStyle }}\r\n\t\t\t>\r\n\t\t\t\t<span className={titleStyles.titleBar__left}>\r\n\t\t\t\t\t<h1 id={styles.modal__title}>{props.title}</h1>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span className={titleStyles.titleBar__right}>\r\n\t\t\t\t\t<button onClick={props.dismiss}>&#10006;</button>\r\n\t\t\t\t</span>\r\n\t\t\t</nav>\r\n\t\t\t<section className={styles.modal__contentWrapper}>\r\n\t\t\t\t<div className={styles.modal__text}>{props.children}</div>\r\n\t\t\t</section>\r\n\t\t\t<section className={styles.modal__buttonWrapper}>\r\n\t\t\t\t<button className={styles.modal__button} onClick={props.dismiss}>\r\n\t\t\t\t\t<span>OK</span>\r\n\t\t\t\t</button>\r\n\t\t\t</section>\r\n\t\t</article>\r\n\t);\r\n};\r\n\r\nexport default Modal;\r\n","import { useContext } from \"react\";\r\nimport windowContext from \"../../../utils/store/windowContext\";\r\nimport styles from \"./Overlay.module.css\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nconst Overlay = () => {\r\n\tconst windowCtx = useContext(windowContext);\r\n\r\n\tconst handleClick = () => {\r\n\t\twindowCtx.overlay.hide();\r\n\t};\r\n\r\n\tlet popupDiv = null;\r\n\tif (windowCtx.overlay.modalContent) {\r\n\t\tpopupDiv = (\r\n\t\t\t<Modal dismiss={handleClick} title={windowCtx.overlay.modalContent.title}>\r\n\t\t\t\t{windowCtx.overlay.modalContent.content}\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={\r\n\t\t\t\twindowCtx.overlay.display ? styles.overlay : styles.overlay_hide\r\n\t\t\t}\r\n\t\t\t// onClick={handleClick}\r\n\t\t>\r\n\t\t\t{windowCtx.overlay.modalContent ? popupDiv : null}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Overlay;\r\n","//img directories\r\nexport const squares = {\r\n    unclicked: \"\",\r\n    clicked: \"\",\r\n    ant: [\"0xD83D\", \"0xDC1C\"],\r\n    flag: [\"0xD83D\", \"0xDEA9\"],\r\n}\r\n\r\nexport const faces = {\r\n    sleeping: [\"0xD83D\", \"0xDE34\"],\r\n    smiling: [\"0xD83D\", \"0xDE0A\"],\r\n    yelling: [\"0xD83D\", \"0xDE31\"],\r\n    upsideDown: [\"0xD83D\", \"0xDE43\"],\r\n    exploded: [\"0xD83E\", \"0xDD2F\"],\r\n    shades: [\"0xD83D\", \"0xDE0E\"],\r\n    xEyes: [\"0xD83D\", \"0xDE35\"],\r\n    sweating: [\"0xD83D\", \"0xDE13\"],\r\n    winking: [\"0xD83D\", \"0xDE09\"]\r\n}","import { useContext } from \"react\";\r\nimport { squares } from \"../../../imgs/icons\";\r\nimport windowContext from \"../../../utils/store/windowContext\";\r\n\r\nimport styles from \"./TitleBar.module.css\";\r\n\r\nconst TitleBar = () => {\r\n\tconst windowCtx = useContext(windowContext);\r\n\tconst cursorStyle = windowCtx.dragMove.isDragging ? \"grabbing\" : \"grab\";\r\n\treturn (\r\n\t\t<section\r\n\t\t\tclassName={`${styles.titleBar} ${\r\n\t\t\t\twindowCtx.overlay.display ? styles[\"titleBar--inactive\"] : \"\"\r\n\t\t\t}`}\r\n\t\t\tonPointerDown={windowCtx.dragMove.grab}\r\n\t\t\tonPointerUp={windowCtx.dragMove.drop}\r\n\t\t\tonPointerOut={windowCtx.dragMove.drop}\r\n\t\t\tonPointerMove={windowCtx.dragMove.drag}\r\n\t\t\tonMouseOver={null}\r\n\t\t\tstyle={{ cursor: cursorStyle }}\r\n\t\t>\r\n\t\t\t<span className={styles.titleBar__left}>\r\n\t\t\t\t{String.fromCharCode(...squares.ant)}\r\n\t\t\t\t<h1>Antsweeper</h1>\r\n\t\t\t</span>\r\n\t\t\t<span className={styles.titleBar__right}>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={styles[\"--minimize\"]}\r\n\t\t\t\t\tonClick={windowCtx.minimize.down}\r\n\t\t\t\t>\r\n\t\t\t\t\t_\r\n\t\t\t\t</button>\r\n\t\t\t\t<button disabled className={\"button--focus\"}>\r\n\t\t\t\t\t&#10006;\r\n\t\t\t\t</button>\r\n\t\t\t</span>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default TitleBar;\r\n","import { Fragment, useContext } from \"react\";\r\nimport paramContext from \"../../../utils/store/paramsContext\";\r\nimport roundContext from \"../../../utils/store/roundContext\";\r\nimport windowContext from \"../../../utils/store/windowContext\";\r\n// import useGlobalListener from \"../../../hooks/use-globalListener\";\r\nimport levels from \"../../../utils/store/initialState/paramLevels\";\r\nimport styles from \"../OptionDropdown/OptionDropdown.module.css\";\r\n// import styles from \"./GameMenu.module.css\";\r\n\r\nconst GameMenu = () => {\r\n\tconst gameLevels = [\"beginner\", \"intermediate\", \"expert\"];\r\n\tconst paramCtx = useContext(paramContext);\r\n\tconst roundCtx = useContext(roundContext);\r\n\tconst windowCtx = useContext(windowContext);\r\n\r\n\tconst handleSelect = (lvl) => {\r\n\t\tparamCtx.setParameters(levels[lvl]);\r\n\t};\r\n\r\n\tconst handleReset = () => {\r\n\t\troundCtx.set.reset();\r\n\t};\r\n\r\n\tconst handleModal = () => {\r\n\t\twindowCtx.overlay.modal(\"Best Times\", \"boop!\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ul className={styles.dropdown__section}>\r\n\t\t\t\t<li onClick={handleReset}>New Game</li>\r\n\t\t\t</ul>\r\n\t\t\t<ul className={styles.dropdown__section}>\r\n\t\t\t\t{gameLevels.map((lvl) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\tkey={`level-${lvl}`}\r\n\t\t\t\t\t\t\tonClick={() => handleSelect(lvl)}\r\n\t\t\t\t\t\t\tclassName={paramCtx.level === lvl ? styles[\"--selected\"] : null}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{lvl.charAt(0).toUpperCase() + lvl.slice(1)}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</ul>\r\n\t\t\t<ul className={styles.dropdown__section}>\r\n\t\t\t\t<li className={` ${styles[\"--secondaryLetter\"]}`} onClick={handleModal}>\r\n\t\t\t\t\tBest <span>T</span>imes...\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default GameMenu;\r\n","import { Fragment, useState } from \"react\";\r\nimport keyHandler from \"../../../utils/logic/keyHandler\";\r\nimport styles from \"./About.module.css\";\r\n\r\nconst About = () => {\r\n\tconst [emailCopied, setEmailCopied] = useState(false);\r\n\r\n\tconst copyText = () => {\r\n\t\t/*if (this.state.thisBrowser.name === \"IE\") {\r\n        window.clipboardData.setData(\"Text\", \"erinruthmaness@gmail.com\");\r\n    } else {*/\r\n\t\tnavigator.clipboard.writeText(\"erinruthmaness@gmail.com\");\r\n\t\t/*}*/\r\n\t\tsetEmailCopied(true);\r\n\t};\r\n\r\n\tconst keyPressHandler = (e) => {\r\n\t\tkeyHandler(\"Enter\", copyText, null, e);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<h2>Welcome To Antsweeper!</h2>\r\n\t\t\t<p>\r\n\t\t\t\tThis game recreates the old Windows Minesweeper game (but with ants - I\r\n\t\t\t\tgarden a lot) using React and some concepts introduced by React hooks. I\r\n\t\t\t\tlove reverse-engineering games and ideas using JavaScript, and I also\r\n\t\t\t\tlove Minesweeper, so this was bound to happen eventually.\r\n\t\t\t</p>\r\n\t\t\t<p>\r\n\t\t\t\tI've been working on this project casually in my free time as I study my\r\n\t\t\t\tway back through React hooks, so it may be missing features when you see\r\n\t\t\t\tit.\r\n\t\t\t</p>\r\n\t\t\t<p>\r\n\t\t\t\tI'm currently looking for a job! Click\r\n\t\t\t\t<strong>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={`${styles.tooltip} ${\r\n\t\t\t\t\t\t\temailCopied ? styles[\"--emailCopied\"] : \"focusable \"\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={copyText}\r\n\t\t\t\t\t\tonKeyPress={keyPressHandler}\r\n\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\there\r\n\t\t\t\t\t\t<span className={styles.tooltip__text}>\r\n\t\t\t\t\t\t\t{emailCopied ? \"Thank you!\" : \"Click to copy my email address\"}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</strong>\r\n\t\t\t\tto copy my email address.\r\n\t\t\t</p>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default About;\r\n","import { Fragment, useContext } from \"react\";\r\nimport windowContext from \"../../../utils/store/windowContext\";\r\nimport About from \"../../Modal/About/About\";\r\n\r\nimport styles from \"../OptionDropdown/OptionDropdown.module.css\";\r\n\r\nconst HelpMenu = () => {\r\n\tconst windowCtx = useContext(windowContext);\r\n\r\n\tconst handleModal = () => {\r\n\t\twindowCtx.overlay.modal(\"About Antsweeper\", <About />);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ul className={styles.dropdown__section}>\r\n\t\t\t\t<a href=\"https://github.com/erinruthmaness/antsweeper\">\r\n\t\t\t\t\t<li>Contents</li>\r\n\t\t\t\t</a>\r\n\t\t\t</ul>\r\n\t\t\t<ul className={styles.dropdown__section}>\r\n\t\t\t\t<li onClick={handleModal}>What is Antsweeper?</li>\r\n\t\t\t\t<a\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\trel=\"noreferrer\"\r\n\t\t\t\t\thref=\"http://www.minesweeper.info/wiki/Windows_Minesweeper\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<li>About Minesweeper...</li>\r\n\t\t\t\t</a>\r\n\t\t\t</ul>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default HelpMenu;\r\n","import GameMenu from \"../GameMenu/GameMenu\";\r\nimport HelpMenu from \"../HelpMenu/HelpMenu\";\r\n\r\nimport styles from \"./OptionDropdown.module.css\";\r\n\r\nconst OptionDropdown = (props) => {\r\n  return (\r\n    <aside className={styles.dropdown}>\r\n      {props.which === \"Game\" ? <GameMenu /> : null}\r\n      {props.which === \"Help\" ? <HelpMenu /> : null}\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default OptionDropdown;\r\n","import { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport userContext from \"../../../utils/store/userContext\";\r\nimport OptionDropdown from \"../OptionDropdown/OptionDropdown\";\r\nimport styles from \"./OptionWrapper.module.css\";\r\n\r\nconst OptionWrapper = (props) => {\r\n\tconst userCtx = useContext(userContext);\r\n\r\n\tconst [dropdown, setDropdown] = useState(false);\r\n\tconst [listenForGlobalClick, setListenForGlobalClick] = useState(false);\r\n\r\n\tconst handleDown = useCallback(() => {\r\n\t\tif (!dropdown) {\r\n\t\t\tsetDropdown(true);\r\n\t\t}\r\n\t}, [dropdown]);\r\n\r\n\tconst handleUp = useCallback(() => {\r\n\t\tif (dropdown) {\r\n\t\t\tsetDropdown(false);\r\n\t\t\tsetListenForGlobalClick(false);\r\n\t\t}\r\n\t}, [dropdown]);\r\n\r\n\tconst handleClick = (e) => {\r\n\t\tif (dropdown) {\r\n\t\t\thandleUp();\r\n\t\t} else {\r\n\t\t\thandleDown();\r\n\t\t}\r\n\t};\r\n\r\n\t//make sure the dropdown animation has time to play\r\n\tuseEffect(() => {\r\n\t\tconst timer = setTimeout(() => {\r\n\t\t\tif (dropdown) {\r\n\t\t\t\tsetListenForGlobalClick(true);\r\n\t\t\t}\r\n\t\t}, 500);\r\n\t\treturn () => clearTimeout(timer);\r\n\t}, [dropdown]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (listenForGlobalClick && userCtx.click.current) {\r\n\t\t\tif (\r\n\t\t\t\tuserCtx.click.current.target.id ===\r\n\t\t\t\tprops.buttonText + \"-optionButton\"\r\n\t\t\t) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (dropdown) {\r\n\t\t\t\thandleUp();\r\n\t\t\t}\r\n\t\t}\r\n\t}, [\r\n\t\tuserCtx.click,\r\n\t\tdropdown,\r\n\t\tlistenForGlobalClick,\r\n\t\thandleUp,\r\n\t\tprops.buttonText,\r\n\t]);\r\n\r\n\treturn (\r\n\t\t<div className={styles.optionButton__wrapper}>\r\n\t\t\t<button\r\n\t\t\t\tid={props.buttonText + \"-optionButton\"}\r\n\t\t\t\tclassName={\r\n\t\t\t\t\tdropdown\r\n\t\t\t\t\t\t? `${styles.optionButton} ${styles[\"optionButton--clicked\"]}`\r\n\t\t\t\t\t\t: styles.optionButton\r\n\t\t\t\t}\r\n\t\t\t\tonClick={handleClick}\r\n\t\t\t>\r\n\t\t\t\t{props.buttonText}\r\n\t\t\t</button>\r\n\t\t\t{dropdown ? <OptionDropdown which={props.buttonText} /> : null}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default OptionWrapper;\r\n","import OptionButtonWrapper from \"../OptionWrapper/OptionWrapper\";\r\n\r\nimport styles from \"./OptionsBar.module.css\";\r\n\r\nconst OptionsBar = () => {\r\n\treturn (\r\n\t\t<nav className={styles.optionsBar}>\r\n\t\t\t<OptionButtonWrapper buttonText={\"Game\"} />\r\n\t\t\t<OptionButtonWrapper buttonText={\"Help\"} />\r\n\t\t</nav>\r\n\t);\r\n};\r\n\r\nexport default OptionsBar;\r\n","import TitleBar from '../TitleBar/TitleBar';\r\nimport OptionsBar from '../OptionsBar/OptionsBar';\r\n\r\n// import styles from \"./MenuBar.module.css\";\r\n\r\nconst MenuBar = () => {\r\n  return (\r\n    <header>\r\n     <TitleBar />\r\n     <OptionsBar />\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default MenuBar;\r\n","import { faces } from \"../../imgs/icons\";\r\n\r\nconst boardReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"RESET_BOARD\":\r\n        console.log(\"BOARD REDUCER reset board\")\r\n      return { ...action.payload };\r\n    case \"CLEAR_BOARD\":\r\n        console.log(\"BOARD REDUCER clear board\")\r\n      return { ...state, board: [] };\r\n    case \"UNCOVER_BOARD\":\r\n        console.log(\"BOARD REDUCER uncover board\")\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        face: faces.smiling,\r\n      };\r\n    case \"SET_ANTS\":\r\n        console.log(\"BOARD REDUCER set ants\")\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        face: faces.smiling,\r\n      };\r\n    case \"UPDATE_BOARD\":\r\n        console.log(\"BOARD REDUCER update board\")\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    case \"SET_FACE\":\r\n        console.log(\"BOARD REDUCER set face\")\r\n      return {\r\n        ...state,\r\n        face: action.payload,\r\n      };\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n\r\nexport default boardReducer;\r\n","import { faces } from '../../../imgs/icons';\r\n\r\nconst getInitialBoard = (paramContextOBJ) => {\r\n  return {\r\n    board: [],\r\n    level: paramContextOBJ.level,\r\n    parameters: {\r\n      rows: paramContextOBJ.rows,\r\n      cols: paramContextOBJ.cols,\r\n      ants: paramContextOBJ.ants,\r\n      antList: [],\r\n    },\r\n    flags: 0,\r\n    face: faces.sleeping,\r\n  };\r\n};\r\n\r\nexport default getInitialBoard;\r\n","import styles from \"./FaceButton.module.css\";\r\n\r\nconst FaceButton = (props) => {\r\n  return (\r\n    <button\r\n      className={styles.faceButton}\r\n      onClick={props.onClick}\r\n    >\r\n      {String.fromCharCode(props.face[0], props.face[1])}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default FaceButton;\r\n","//the Fisher-Yates shuffle\r\nexport const shuffle = (array) => {\r\n\tfor (let i = array.length - 1; i > 0; i--) {\r\n\t\tlet j = Math.floor(Math.random() * (i + 1));\r\n\t\t[array[i], array[j]] = [array[j], array[i]];\r\n\t}\r\n\treturn array;\r\n};\r\n\r\nexport const assessDigit = (string, num) => {\r\n\treturn string + \"--\" + num.toString();\r\n};\r\n","import { assessDigit } from '../../../utils/logic/helpers'\r\nimport styles from \"./CalcScreen.module.css\";\r\n\r\n\r\nconst CalcScreen = (props) => {\r\n  let displayNum = props.display.toString().padStart(3, \"0\").split(\"\");\r\n\r\n  if (!displayNum || (displayNum === \"off\")) {\r\n    displayNum = [\"8\", \"8\", \"8\"];\r\n  }\r\n  \r\n  return (\r\n    <section className={styles.calcScreen} id={props.id}>\r\n      {displayNum.map((digit, digitIdx) => (\r\n        <div\r\n          key={`${props.id}-digit-${digitIdx}`}\r\n          className={`${styles.digit} ${styles[assessDigit(\"digit\", digit)]}`}\r\n        >\r\n          <div className={`${styles.digit__top} ${styles.digit__half}`}></div>\r\n          <div className={`${styles.digit__bottom} ${styles.digit__half}`}></div>\r\n        </div>\r\n      ))}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default CalcScreen;\r\n","import { useState, useEffect } from \"react\";\r\nimport FaceButton from \"../FaceButton/FaceButton\";\r\nimport CalcScreen from \"../CalcScreen/CalcScreen\";\r\nimport styles from \"./Controls.module.css\";\r\n\r\nconst Controls = (props) => {\r\n  const [clock, setClock] = useState(\"off\");\r\n  const [clockStarted, setClockStarted] = useState(props.firstClick);\r\n\r\n  const startGameHandler = () => {\r\n    setClock(0);\r\n    // setClockStarted(true);\r\n    props.startGame();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (props.firstClick && !clockStarted) {\r\n      setClockStarted(true);\r\n    }\r\n    if (!props.firstClick && clockStarted) {\r\n      setClockStarted(false)\r\n    }\r\n    return () => {\r\n    };\r\n  }, [props.firstClick, clockStarted]);\r\n\r\n  useEffect(() => {\r\n    let timer;\r\n    if (clockStarted && props.inProgress && props.firstClick) {\r\n      timer = setInterval(() => {\r\n        if (clock < 999) {\r\n          setClock((prevTime) => prevTime + 1);\r\n        }\r\n      }, 1000);\r\n    }\r\n    if (!props.inProgress) {\r\n      clearInterval(timer);\r\n    }\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  }, [clock, clockStarted, props.firstClick, props.inProgress]);\r\n\r\n  return (\r\n    <section className={styles.controls}>\r\n        <CalcScreen\r\n          id={\"flags\"}\r\n          display={props.inProgress || clockStarted ? props.flags : \"off\"}\r\n        />\r\n      <FaceButton onClick={startGameHandler} face={props.face} />\r\n        <CalcScreen\r\n          id={\"timer\"}\r\n          display={props.inProgress || clockStarted ? clock : \"off\"}\r\n        />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Controls;\r\n","import { faces } from \"../../imgs/icons\";\r\n\r\n// returns { which: \"left\"/\"right\", face : \"[face code]\"}\r\nexport const squareHandler = {\r\n  squareResponse: (whichClick, whichFace) => {\r\n    return { which: whichClick, face: whichFace };\r\n  },\r\n  touchStart: (flagged) => {\r\n    if (flagged) {\r\n      return squareHandler.squareResponse(\"touchStart\", faces.winking);\r\n    } else {\r\n      return squareHandler.squareResponse(\"touchStart\", faces.yelling);\r\n    }\r\n  },\r\n  touchEnd: (count) => {\r\n    console.log(\"touch end count is \" + count);\r\n    //since touchStart doesn't put the face back on :D like mouseDown does\r\n    //touchEnd has to do it!\r\n    if (count > 0) {\r\n      return squareHandler.squareResponse(\"right\", faces.smiling);\r\n    } else {\r\n      return squareHandler.squareResponse(\"left\", faces.smiling);\r\n    }\r\n  },\r\n  mouseDown: (whichNum, squareProps) => {\r\n    if (whichNum === 1) {\r\n      //left click\r\n      if (squareProps.flagged) {\r\n        return squareHandler.squareResponse(\"left\", faces.winking);\r\n      } else {\r\n        //yell until mouse release\r\n        return squareHandler.squareResponse(\"left\", faces.yelling);\r\n      }\r\n    } else {\r\n      if (squareProps.flagged) {\r\n        //removing flag\r\n        return squareHandler.squareResponse(\"right\", faces.sweating);\r\n      } else {\r\n        //flag placement\r\n        return squareHandler.squareResponse(\"right\", faces.smiling);\r\n      }\r\n    }\r\n  },\r\n};","import { useRef } from \"react\";\r\nimport { assessDigit } from \"../../../utils/logic/helpers\";\r\nimport { squareHandler } from \"../../../utils/logic/read\";\r\nimport styles from \"./Square.module.css\";\r\n\r\n//declared outside of the component in case it might rerender & reset to default\r\n//don't need it in state because state triggers a UI change (rerender)\r\nlet wasClicked = false;\r\nlet clickType = \"left\";\r\nlet wasTouched = false;\r\nlet touchLength = 0;\r\n\r\nfunction Square(props) {\r\n  const countRef = useRef();\r\n\r\n  const reset = () => {\r\n    wasClicked = false;\r\n    clickType = \"left\";\r\n    wasTouched = false;\r\n    touchLength = 0;\r\n  };\r\n\r\n  const parseClick = (event, eventString) => {\r\n    //restore defaults real quick for people playing multiple games\r\n    if (props.gameOver) {\r\n      reset();\r\n      return;\r\n    }\r\n    if (\r\n      wasTouched ||\r\n      props.sq.revealed ||\r\n      (props.sq.flagged && event.nativeEvent.which === 1)\r\n    ) {\r\n      //do nothing if user is mobile, if square is already revealed,\r\n      //or if flagged and this is a left click\r\n      return;\r\n    } else if (eventString === \"down\") {\r\n      wasClicked = true;\r\n      // console.log(\"mouse down on \" + props.id);\r\n      //returns which: left or right click\r\n      //and face: what the face button should be (just :o since this is mousedown, not up)\r\n      let downResult = squareHandler.mouseDown(event.nativeEvent.which, props);\r\n      clickType = downResult.which;\r\n      props.changeFace(downResult.face);\r\n    } else if (eventString === \"up\") {\r\n      // console.log(\"mouse up on \" + props.id);\r\n      if (!wasTouched) {\r\n        updateSquare(clickType);\r\n      }\r\n    }\r\n  };\r\n\r\n  const parseTouch = (eventString) => {\r\n    if (props.gameOver) {\r\n      reset();\r\n      return;\r\n    }\r\n    //prevents a \"double click\" with touch firing and then mouse click firing\r\n    if (props.gameOver || wasClicked || props.sq.revealed) {\r\n      //do nothing if game is over, if user is mobile, or if square is already revealed\r\n      return;\r\n    } else if (eventString === \"start\") {\r\n      wasTouched = true;\r\n      // console.log(\"touch started on \" + props.id);\r\n      props.changeFace(squareHandler.touchStart(props.sq.flagged).face);\r\n      countRef.current = setInterval(() => {\r\n        touchLength++;\r\n        // console.log(touchLength);\r\n      }, 800);\r\n    } else if (eventString === \"end\") {\r\n      // console.log(\"touch ended on \" + props.id);\r\n      //stops timer\r\n      clearInterval(countRef.current);\r\n      //returns which: left or right click\r\n      let endResult = squareHandler.touchEnd(touchLength);\r\n      //\"left clicks\" shouldn't impact a flagged square\r\n      if (props.sq.flagged && endResult.which === \"left\") {\r\n        props.changeFace(endResult.face); //flagged squares don't get processed by Board\r\n        return;\r\n      } else {\r\n        updateSquare(endResult.which);\r\n      }\r\n    }\r\n  };\r\n\r\n  const updateSquare = (leftOrRight) => {\r\n    //reset defaults for this square, but not wasClicked/wasTouched\r\n    //because that should stay the same across the game\r\n    clickType = \"left\";\r\n    touchLength = 0;\r\n    props.onClick(\r\n      props.sq.y,\r\n      props.sq.x,\r\n      leftOrRight.toUpperCase() + \"_CLICK\"\r\n    );\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className={`\r\n        ${styles.square}\r\n        ${props.sq.revealed && styles[\"square--clicked\"]} \r\n        ${styles[assessDigit(\"nearbys\", props.sq.nearbyAnts)]}\r\n        ${\r\n          props.sq.revealed && props.sq.ant && !props.sq.unclickedAnt\r\n            ? styles.firstAnt\r\n            : null\r\n        } \r\n      `}\r\n      onMouseDown={(e) => parseClick(e, \"down\")}\r\n      onMouseUp={!wasTouched ? (e) => parseClick(e, \"up\") : undefined}\r\n      onTouchStart={() => parseTouch(\"start\")}\r\n      onTouchEnd={!wasClicked ? () => parseTouch(\"end\") : undefined}\r\n      onContextMenu={(e) => e.preventDefault()}\r\n    >\r\n      {Array.isArray(props.sq.display)\r\n        ? String.fromCharCode(props.sq.display[0], props.sq.display[1])\r\n        : props.sq.display}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Square;\r\n","import Square from \"../Square/Square\";\r\nimport styles from \"./RowWrapper.module.css\";\r\n\r\nconst RowWrapper = (props) => {\r\n  return props.boardGrid.map((row, index) => (\r\n    <div className={styles.board_row} key={`row-${index}`}>\r\n      {row.map((square) => (\r\n        <Square\r\n          key={square.key}\r\n          id={square.key}\r\n          sq={square}\r\n          onClick={props.handleSquareClick}\r\n          changeFace={props.setFace}\r\n          gameOver={!props.gameInProgress}\r\n        />\r\n      ))}\r\n    </div>\r\n  ));\r\n};\r\n\r\nexport default RowWrapper;\r\n","import { squares } from '../../../imgs/icons';\r\n\r\nconst buildSquare = (x, y) => {\r\n  return {\r\n    key: \"cell-x\" + x + \"-y\" + y,\r\n    x: x,\r\n    y: y,\r\n    ant: false,\r\n    revealed: false,\r\n    display: squares.unclicked,\r\n    flagged: false,\r\n    nearbyAnts: 0,\r\n    neighbors: [],\r\n  };\r\n};\r\n\r\nexport default buildSquare;\r\n","import buildSquare from \"../../../../utils/store/initialState/square\";\r\n\r\n//make an array of arrays of \"squares\"\r\nconst newRound = (rows, cols) => {\r\n  return Array.from(Array(rows), (row, y) => {\r\n    return Array.from(Array(cols), (col, x) =>\r\n      buildSquare(x, y)\r\n    );\r\n  });\r\n};\r\n\r\nexport default newRound;\r\n","import { shuffle } from \"../../../../utils/logic/helpers\";\r\n\r\n//make an array of true bools\r\n//with falses equal to the number of ants shuffled in\r\nconst buildAnthill = (boardArea, numAnts) => {\r\n  let starterArray = Array.from(Array(boardArea), (square, idx) => {\r\n    return { id: idx + 1, ant: false };\r\n  });\r\n  for (let i = 0; i < numAnts; i++) {\r\n    starterArray[i].ant = true;\r\n  }\r\n  return shuffle(starterArray);\r\n};\r\n\r\n//spread ants randomly through new board\r\nconst assignAnts = (boardState) => {\r\n  let boardArea = boardState.parameters.rows * boardState.parameters.cols;\r\n  let antArray = buildAnthill(boardArea, boardState.parameters.ants);\r\n  let counter = boardArea - 1;\r\n  let antMasterlist = [];\r\n  boardState.board.forEach((row) => {\r\n    row.forEach((cell) => {\r\n      cell.ant = antArray[counter].ant;\r\n      counter--;\r\n      if (cell.ant) {\r\n        antMasterlist.push(cell.key);\r\n      }\r\n    });\r\n  });\r\n\r\n  return [boardState.board, antMasterlist];\r\n};\r\n\r\n//count adjacent ants\r\n//and keep track of which all adjacent squares\r\nconst findNeighbors = (board) => {\r\n  board.forEach((row, y) => {\r\n    row.forEach((cell, x) => {\r\n      let numAnts = 0;\r\n      let neighborhood = buildNeighborhood(board, y, x);\r\n      neighborhood.forEach((square) => {\r\n        if (square && square.ant) {\r\n          numAnts++;\r\n        }\r\n      });\r\n      cell.nearbyAnts = numAnts;\r\n      cell.neighbors = neighborhood.filter((el) => el !== null);\r\n    });\r\n  });\r\n  return board;\r\n};\r\n\r\nconst antInFirstClick = (antList, reservedNeighborhood) => {\r\n  let foundMatch = false;\r\n  reservedNeighborhood.forEach((sq) => {\r\n    if (sq !== null && antList.some((el) => el === sq.key)) {\r\n      foundMatch = true;\r\n    }\r\n  });\r\n  return foundMatch;\r\n};\r\n\r\nconst addAnts = (boardState, reservedNeighborhood) => {\r\n  let newBoard = boardState.board;\r\n  let antList = [];\r\n  do {\r\n    [newBoard, antList] = assignAnts(boardState);\r\n  } while (antInFirstClick(antList, reservedNeighborhood));\r\n  return [findNeighbors(newBoard), antList];\r\n};\r\n\r\n//takes an array and an index and returns\r\n//[the value of the index before, the specified index, and the next index]\r\n//or null if there is no index before or after\r\n// (sort of like array.slice but replacing a non-existent or negative index with null)\r\nconst horizontalNeighbors = (y, myIndex) => {\r\n  return [\r\n    myIndex - 1 >= 0 ? y[myIndex - 1] : null,\r\n    y[myIndex],\r\n    myIndex + 1 < y.length ? y[myIndex + 1] : null,\r\n  ];\r\n};\r\n\r\n//takes an array of arrays and specified \"row\" and \"col\" indeces\r\n//and returns an array of nine values: essentially the value of the specified \"cell\"\r\n//and the values of all the cells that \"touch\" it in the \"grid\"\r\nexport const buildNeighborhood = (wholeBoard, y, x) => {\r\n  let rowAbove =\r\n    y - 1 >= 0 ? horizontalNeighbors(wholeBoard[y - 1], x) : [null, null, null];\r\n  let myRow = horizontalNeighbors(wholeBoard[y], x);\r\n  let rowBelow =\r\n    y + 1 < wholeBoard.length\r\n      ? horizontalNeighbors(wholeBoard[y + 1], x)\r\n      : [null, null, null];\r\n  return rowAbove.concat(myRow, rowBelow);\r\n};\r\n\r\nconst startRound = (boardState, y, x) => {\r\n  let clickedNeighborhood = buildNeighborhood(\r\n    boardState.board,\r\n    y,\r\n    x\r\n  );\r\n  return addAnts(boardState, clickedNeighborhood);\r\n};\r\n\r\nexport default startRound;\r\n","import { squares } from \"../../../../imgs/icons\";\r\n\r\nexport const detonateAnts = (board, allAnts) => {\r\n  board.forEach((row, y) => {\r\n    board.forEach((col, x) => {\r\n      if (\r\n        allAnts.indexOf(board[y][x].key) !== -1 &&\r\n        !board[y][x].revealed &&\r\n        !board[y][x].flagged\r\n      ) {\r\n        board[y][x] = {\r\n          ...board[y][x],\r\n          display: squares.ant,\r\n          revealed: true,\r\n          unclickedAnt: true,\r\n        };\r\n      }\r\n    });\r\n  });\r\n  return board;\r\n};\r\n\r\nconst endRound = {\r\n  won: () => {\r\n    console.log(\"yeah\");\r\n  },\r\n  lost: () => {\r\n    console.log(\"oh no\");\r\n    // return {\r\n    //   ...boardState,\r\n    //   board: detonateAnts(boardState.board, boardState.parameters.antList),\r\n    // };\r\n  },\r\n};\r\n\r\nexport default endRound;\r\n","import { detonateAnts } from \"./endRound\";\r\nimport { squares, faces } from \"../../../../imgs/icons\";\r\n\r\n//returns { square: {updated square}, face: [face code] }\r\n// const clickHandler = {\r\n//   routeClick: (clickedSquare, whichClick, remFlags) => {\r\n//     if (whichClick === \"left\") {\r\n//       return clickHandler.leftClick(clickedSquare, remFlags);\r\n//     } else if (whichClick === \"right\") {\r\n//       return clickHandler.rightClick(clickedSquare, remFlags);\r\n//     }\r\n//   },\r\n//   leftClick: (sq, remFlags) => {\r\n//     if (sq.flagged || sq.revealed) {\r\n//       return { square: sq, face: faces.smiling };\r\n//     } else {\r\n//       if (sq.ant) {\r\n//         return {\r\n//           square: {\r\n//             ...sq,\r\n//             display: squares.ant,\r\n//             revealed: true,\r\n//           },\r\n//           face: faces.exploded,\r\n//           flags: remFlags,\r\n//         };\r\n//       } else {\r\n//         return {\r\n//           square: {\r\n//             ...sq,\r\n//             display: sq.nearbyAnts === 0 ? \"\" : sq.nearbyAnts,\r\n//             revealed: true,\r\n//           },\r\n//           face: faces.smiling,\r\n//           flags: remFlags,\r\n//         };\r\n//       }\r\n//     }\r\n//   },\r\n//   rightClick: (sq, remFlags) => {\r\n//     //removing a flag\r\n//     if (sq.flagged) {\r\n//       return {\r\n//         square: {\r\n//           ...sq,\r\n//           display: squares.unclicked,\r\n//           revealed: false,\r\n//           flagged: false,\r\n//         },\r\n//         face: faces.smiling,\r\n//         flags: remFlags + 1,\r\n//       };\r\n//     } else {\r\n//       if (remFlags > 0) {\r\n//         return {\r\n//           square: {\r\n//             ...sq,\r\n//             display: squares.flag,\r\n//             revealed: false,\r\n//             flagged: true,\r\n//           },\r\n//           face: faces.smiling,\r\n//           flags: remFlags - 1,\r\n//         };\r\n//       } else {\r\n//         //player can't place more flags than ants\r\n//         return {\r\n//           square: { ...sq },\r\n//           face: faces.smiling,\r\n//           flags: remFlags,\r\n//         };\r\n//       }\r\n//     }\r\n//   },\r\n// };\r\n\r\nconst checkForWin = (board, gameParams) => {\r\n  let unclickedSafe = gameParams.rows * gameParams.cols - gameParams.ants;\r\n  board.forEach((row, y) => {\r\n    board.forEach((col, x) => {\r\n      if (!board[y][x].ant && board[y][x].revealed) {\r\n        unclickedSafe--;\r\n      }\r\n    });\r\n  });\r\n  if (unclickedSafe === 0) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nconst recursiveUncover = (centerSquare, board) => {\r\n  centerSquare.neighbors.forEach((sq) => {\r\n    if (!board[sq.y][sq.x].revealed) {\r\n      board[sq.y][sq.x] = {\r\n        ...sq,\r\n        revealed: true,\r\n        display: sq.nearbyAnts === 0 ? \"\" : sq.nearbyAnts,\r\n      };\r\n      if (sq.nearbyAnts === 0) {\r\n        board = recursiveUncover(sq, board);\r\n      }\r\n    }\r\n  });\r\n  return board;\r\n};\r\n\r\nconst uncoverNeighbors = (startingSquare, board) => {\r\n  //assumes a nearbyAnts === 0 starting square\r\n  let updatedBoard = board;\r\n  startingSquare.neighbors.forEach((sq) => {\r\n    if (!board[sq.y][sq.x].revealed) {\r\n      board[sq.y][sq.x] = {\r\n        ...sq,\r\n        revealed: true,\r\n        display: sq.nearbyAnts === 0 ? \"\" : sq.nearbyAnts,\r\n      };\r\n      if (sq.nearbyAnts === 0) {\r\n        board = recursiveUncover(sq, board);\r\n      }\r\n    }\r\n  });\r\n  return updatedBoard;\r\n};\r\n\r\nconst replaceSquareInBoard = (board, newSquare) => {\r\n  console.log(\"new square:\");\r\n  console.log(newSquare);\r\n  let tempBoard = [...board];\r\n  tempBoard[newSquare.y][newSquare.x] = newSquare;\r\n  return [...tempBoard];\r\n};\r\n\r\nconst playerMoveReducer = (boardState, action) => {\r\n  console.log(action);\r\n  switch (action.type) {\r\n    case \"LEFT_CLICK\":\r\n      if (action.payload.flagged || action.payload.revealed) {\r\n        //flagged or revealed square clicked (no action)\r\n        return {\r\n          newBoardState: {\r\n            ...boardState,\r\n            face: faces.smiling,\r\n          },\r\n          gameOver: false,\r\n        };\r\n      } else if (action.payload.ant) {\r\n        //ant uncovered (game over)\r\n        const tempBoard = replaceSquareInBoard(boardState.board, {\r\n          ...action.payload,\r\n          display: squares.ant,\r\n          revealed: true,\r\n        });\r\n        return {\r\n          newBoardState: {\r\n            ...boardState,\r\n            board: detonateAnts(tempBoard, boardState.parameters.antList),\r\n            face: faces.exploded,\r\n          },\r\n          gameOver: true,\r\n        };\r\n      } else {\r\n        //non-ant uncovered\r\n        let tempFace = faces.smiling;\r\n        let tempGameOver = false;\r\n        let tempBoard = replaceSquareInBoard(boardState.board, {\r\n          ...action.payload,\r\n          display:\r\n            action.payload.nearbyAnts === 0 ? \"\" : action.payload.nearbyAnts,\r\n          revealed: true,\r\n        });\r\n        if (checkForWin(boardState.board, boardState.parameters)) {\r\n          tempFace = faces.shades;\r\n          tempGameOver = true;\r\n        }\r\n        if (action.payload.nearbyAnts === 0) {\r\n          tempBoard = uncoverNeighbors(action.payload, tempBoard);\r\n        }\r\n        return {\r\n          newBoardState: {\r\n            ...boardState,\r\n            board: tempBoard,\r\n            face: tempFace,\r\n          },\r\n          gameOver: tempGameOver,\r\n        };\r\n      }\r\n    case \"RIGHT_CLICK\":\r\n      if (action.payload.flagged) {\r\n        //removing a flag\r\n        return {\r\n          newBoardState: {\r\n            ...boardState,\r\n            board: replaceSquareInBoard(boardState.board, {\r\n              ...action.payload,\r\n              display: squares.unclicked,\r\n              revealed: false,\r\n              flagged: false,\r\n            }),\r\n            face: faces.smiling,\r\n            flags: boardState.flags + 1,\r\n          },\r\n          gameOver: false,\r\n        };\r\n      } else if (boardState.flags > 0) {\r\n        //placing a flag\r\n        return {\r\n          newBoardState: {\r\n            ...boardState,\r\n            board: replaceSquareInBoard(boardState.board, {\r\n              ...action.payload,\r\n              display: squares.flag,\r\n              revealed: false,\r\n              flagged: true,\r\n            }),\r\n            face: faces.smiling,\r\n            flags: boardState.flags - 1,\r\n          },\r\n          gameOver: false,\r\n        };\r\n      } else {\r\n        //player can't place more flags than ants\r\n        return {\r\n          newBoardState: {\r\n            ...boardState,\r\n            face: faces.smiling,\r\n          },\r\n          gameOver: false,\r\n        };\r\n      }\r\n    default:\r\n      console.log(\"squareClick reducer error: \", action.type);\r\n      return;\r\n  }\r\n};\r\n\r\nexport default playerMoveReducer;\r\n","import { useCallback, useContext, useEffect, useReducer } from \"react\";\r\n\r\nimport paramsContext from \"../../../utils/store/paramsContext\";\r\nimport boardReducer from \"../../../utils/reducers/boardReducer\";\r\nimport getInitialBoard from \"../../../utils/store/initialState/board\";\r\n\r\nimport Controls from \"../Controls/Controls\";\r\nimport RowWrapper from \"../RowWrapper/RowWrapper\";\r\n\r\nimport { faces } from \"../../../imgs/icons\";\r\nimport newRound from \"./logic/newRound\";\r\nimport startRound from \"./logic/startRound\";\r\n\r\nimport playerMoveReducer from \"./logic/clickHandler\";\r\n// import clickHandler from \"./logic/clickHandler\";\r\n// import { checkForWin } from \"../../../utils/logic/playerMove/checkForWin\";\r\n// import uncoverNeighbors from \"../../../utils/logic/playerMove/uncoverNeighbors\";\r\n// import { detonateAnts } from \"../../../utils/logic/gameOver/detonateAnts\";\r\n\r\nimport styles from \"./Board.module.css\";\r\nimport roundContext from \"../../../utils/store/roundContext\";\r\nimport endRound from \"./logic/endRound\";\r\n\r\nconst Board = () => {\r\n  const paramCtx = useContext(paramsContext);\r\n  const roundCtx = useContext(roundContext);\r\n\r\n  const [boardState, dispatchBoard] = useReducer(\r\n    boardReducer,\r\n    getInitialBoard(paramCtx)\r\n  );\r\n\r\n  const restartRound = useCallback(() => {\r\n    dispatchBoard({\r\n      type: \"RESET_BOARD\",\r\n      payload: getInitialBoard(paramCtx),\r\n    });\r\n    roundCtx.set.reset();\r\n  }, [paramCtx, roundCtx.set]);\r\n\r\n  const onStart = () => {\r\n    //let happy onStart face restart a game in progress\r\n    if (roundCtx.started) {\r\n      restartRound();\r\n    }\r\n    //clear out previous round (if applicable)\r\n    dispatchBoard({ type: \"CLEAR_BOARD\" });\r\n    //fills out the board with uncovered squares, but no ants yet\r\n    dispatchBoard({\r\n      type: \"UNCOVER_BOARD\",\r\n      payload: {\r\n        board: newRound(boardState.parameters.rows, boardState.parameters.cols),\r\n        parameters: { ...boardState.parameters },\r\n        flags: boardState.parameters.ants,\r\n      },\r\n    });\r\n    roundCtx.set.ready();\r\n  };\r\n\r\n  const handleSquareClick = useCallback(\r\n    (y, x, clickType) => {\r\n      //first click\r\n      if (!roundCtx.started) {\r\n        let [boardWithAnts, antList] = startRound(boardState, y, x);\r\n        console.log(boardWithAnts);\r\n        dispatchBoard({\r\n          type: \"SET_ANTS\",\r\n          payload: {\r\n            board: boardWithAnts,\r\n            parameters: {\r\n              ...boardState.parameters,\r\n              antList: antList,\r\n            },\r\n          },\r\n        });\r\n        roundCtx.set.start();\r\n      }\r\n      // console.log(rowIndex, colIndex, whichClick);\r\n      console.log(boardState.board[y][x]);\r\n      // let updateGrid = [...boardState.board];\r\n      let { newBoardState, gameOver } = playerMoveReducer(\r\n        { ...boardState },\r\n        { type: clickType, payload: boardState.board[y][x] }\r\n      );\r\n      // let newClickedSquare =\r\n      // newBoardState[clickedSquare.row][clickedSquare.col];\r\n      // let updateAction = clickHandler.routeClick(\r\n      //   clickedSquare,\r\n      //   whichClick,\r\n      //   boardState.flags\r\n      // );\r\n\r\n      // updateGrid[rowIndex][colIndex] = updateAction.square;\r\n      // if (updateAction.square.revealed) {\r\n      //if an ant was uncovered\r\n      // if (updateAction.square.ant) {\r\n      // if (newClickedSquare.ant) {\r\n      if (gameOver && newBoardState.face === faces.exploded) {\r\n        roundCtx.set.lost();\r\n        endRound.lost();\r\n        // updateGrid = detonateAnts(updateGrid, boardState.parameters.antList);\r\n      } else if (gameOver && newBoardState.face === faces.shades) {\r\n        //if the last non-ant was uncovered\r\n        // updateAction.face = faces.shades;\r\n        roundCtx.set.won();\r\n        endRound.won();\r\n      }\r\n      //if a square with no nearby ants was uncovered\r\n      // if (updateAction.square.nearbyAnts === 0) {\r\n      //   updateGrid = uncoverNeighbors(updateAction.square, updateGrid);\r\n      // }\r\n      // }\r\n      dispatchBoard({\r\n        type: \"UPDATE_BOARD\",\r\n        payload: {\r\n          board: newBoardState.board,\r\n          face: newBoardState.face,\r\n          flags: newBoardState.flags,\r\n        },\r\n      });\r\n    },\r\n    [boardState, roundCtx]\r\n  );\r\n\r\n  const handleFaceChange = (newFace) => {\r\n    dispatchBoard({ type: \"SET_FACE\", payload: newFace });\r\n  };\r\n\r\n  useEffect(() => {\r\n    //reset board if the level has changed or if the round shouldn't be started\r\n    if (\r\n      paramCtx.level !== boardState.level ||\r\n      (!roundCtx.ready && !roundCtx.started && boardState.board.length > 0)\r\n    ) {\r\n      restartRound();\r\n    }\r\n  }, [\r\n    paramCtx.level,\r\n    boardState.level,\r\n    boardState.board,\r\n    roundCtx,\r\n    restartRound,\r\n  ]);\r\n  return (\r\n    <article className={styles.gameWrapper}>\r\n      <Controls\r\n        startGame={onStart}\r\n        inProgress={roundCtx.ready}\r\n        face={boardState.face}\r\n        flags={boardState.flags}\r\n        firstClick={roundCtx.started}\r\n      />\r\n      <section className={styles.boardWrapper}>\r\n        {boardState.board ? (\r\n          <RowWrapper\r\n            boardGrid={boardState.board}\r\n            handleSquareClick={handleSquareClick}\r\n            setFace={handleFaceChange}\r\n            gameInProgress={roundCtx.ready}\r\n          />\r\n        ) : null}\r\n      </section>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default Board;\r\n","import Overlay from \"../../Modal/Overlay/Overlay\";\r\nimport MenuBar from \"../../WindowHeader/MenuBar/MenuBar\";\r\nimport { Fragment, useContext, useCallback, useState } from \"react\";\r\nimport windowContext from \"../../../utils/store/windowContext\";\r\nimport Board from \"../../Game/Board/Board\";\r\nimport styles from \"./Window.module.css\";\r\n\r\nconst Window = () => {\r\n  const windowCtx = useContext(windowContext);\r\n  const [animation, setAnimation] = useState(\"\");\r\n  const [minComplete, setMinComplete] = useState(false);\r\n  const [maxComplete, setMaxComplete] = useState(false);\r\n\r\n  const animationEndHandler = () => {\r\n    console.log(\"animation ended\");\r\n    if (animation === \"window--minimizing\") {\r\n      //if the animation that just ran was minimize\r\n      setAnimation(\"\");\r\n      setMinComplete(true);\r\n      setMaxComplete(false);\r\n    } else if (animation === \"window--maximizing\") {\r\n      setAnimation(\"\");\r\n      setMaxComplete(true);\r\n      setMinComplete(false);\r\n    }\r\n    // setAnimation(null);\r\n  };\r\n\r\n  const animationStartHandler = () => {\r\n    console.log(\"animation started\");\r\n  };\r\n\r\n  useCallback(() => {\r\n    console.log(\"window usecallback\");\r\n    if (windowCtx.minimize.isMinimized && !minComplete) {\r\n      setAnimation(\"window--minimizing\");\r\n    }\r\n    if (!windowCtx.minimize.isMinimized && !maxComplete) {\r\n      setAnimation(\"window--maximizing\");\r\n    }\r\n  }, [windowCtx.minimize.isMinimized, minComplete, maxComplete]);\r\n\r\n  return (\r\n    <main\r\n      className={`focusable ${styles.window} ${animation ? styles[animation] : \"\"} ${\r\n        windowCtx.minimize.isMinimized ? styles[\"window--minimized\"] : \"\"\r\n      }`}\r\n      tabIndex={0}\r\n      style={{\r\n        transform: windowCtx.minimize.isMinimized\r\n          ? \"none\"\r\n          : `translateX(${windowCtx.dragMove.translate.x}px) translateY(${windowCtx.dragMove.translate.y}px)`,\r\n      }}\r\n      onAnimationEnd={animationEndHandler}\r\n      onAnimationStart={animationStartHandler}\r\n    >\r\n      {windowCtx.minimize.isMinimized ? null : (\r\n        <Fragment>\r\n          <Overlay />\r\n          <MenuBar />\r\n          <Board />\r\n        </Fragment>\r\n      )}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Window;\r\n","export default __webpack_public_path__ + \"static/media/win98Logo.c4af9ed5.png\";","import { useContext } from \"react\";\r\nimport win98logo from \"../../../imgs/win98Logo.png\";\r\nimport { squares } from \"../../../imgs/icons\";\r\nimport styles from \"./Footer.module.css\";\r\nimport windowContext from \"../../../utils/store/windowContext\";\r\n\r\nconst Footer = () => {\r\n  const windowCtx = useContext(windowContext);\r\n  let gameWindowButtonStyle = styles.gameWindowButton;\r\n  if (!windowCtx.minimize.isMinimized) {\r\n    gameWindowButtonStyle = `${styles.gameWindowButton} button--focus`;\r\n  }\r\n  const clickHandler = () => {\r\n    if (windowCtx.minimize.isMinimized) {\r\n      windowCtx.minimize.up();\r\n    } else {\r\n      windowCtx.minimize.down();\r\n    }\r\n  };\r\n  return (\r\n    <footer className={styles.bg__footer}>\r\n      <button id=\"windows_start\" className={styles.startButton}>\r\n        <img src={win98logo} alt=\"Windows 98 Logo\" /> Start\r\n      </button>\r\n      <button\r\n        id=\"antsweeper_min\"\r\n        className={gameWindowButtonStyle}\r\n        onClick={clickHandler}\r\n      >\r\n        {String.fromCharCode(...squares.ant)} Antsweeper\r\n      </button>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import Window from \"../Window/Window\";\r\nimport Footer from \"../Footer/Footer\";\r\n\r\nimport { useContext, useEffect } from \"react\";\r\nimport paramContext from \"../../../utils/store/paramsContext\";\r\nimport \"../../../style/levels.css\";\r\n\r\nimport styles from \"./App.module.css\";\r\nimport userContext from \"../../../utils/store/userContext\";\r\n\r\nfunction App() {\r\n\tconst paramCtx = useContext(paramContext);\r\n\tconst userCtx = useContext(userContext);\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener(\"click\", userCtx.click.set);\r\n\t\tdocument.addEventListener(\"keypress\", userCtx.key.set);\r\n\t}, [userCtx]);\r\n\r\n\treturn (\r\n\t\t<div className={`${paramCtx.level} ${styles.window_container}`}>\r\n\t\t\t<Window />\r\n\t\t\t<Footer />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./style/index.css\";\r\nimport \"./style/windows98.css\";\r\nimport \"./style/levels.css\";\r\nimport { WindowCtxProvider } from \"./utils/store/windowContext\";\r\nimport App from \"./Components/Background/App/App\";\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<WindowCtxProvider>\r\n\t\t\t<App />\r\n\t\t</WindowCtxProvider>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}