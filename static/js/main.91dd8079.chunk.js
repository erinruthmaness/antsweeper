(this.webpackJsonpantsweeper=this.webpackJsonpantsweeper||[]).push([[0],[,,,,function(e,t,n){e.exports={dropdown:"OptionDropdown_dropdown__38DRP","dropdown--open":"OptionDropdown_dropdown--open__33UTA",slideup:"OptionDropdown_slideup__2pYIm",dropdown__section:"OptionDropdown_dropdown__section__3j9XG",delayRender:"OptionDropdown_delayRender__3rVI5","--comingSoon":"OptionDropdown_--comingSoon__2sopC","--secondaryLetter":"OptionDropdown_--secondaryLetter__11di5","--selected":"OptionDropdown_--selected__TfmbY"}},function(e,t,n){e.exports={titleBar:"TitleBar_titleBar__2RV-D","titleBar--inactive":"TitleBar_titleBar--inactive__29J5I",titleBar__left:"TitleBar_titleBar__left__3-CBo",titleBar__right:"TitleBar_titleBar__right__jGHgj","--minimize":"TitleBar_--minimize__2uDpQ"}},function(e,t,n){e.exports={calcScreen:"CalcScreen_calcScreen__RRwXz",digit:"CalcScreen_digit__3VlIu",digit__half:"CalcScreen_digit__half__1eycv","digit--0":"CalcScreen_digit--0__1KEH2",digit__top:"CalcScreen_digit__top__1HcA_",digit__bottom:"CalcScreen_digit__bottom__1ewoz","digit--4":"CalcScreen_digit--4__bd3kX","digit--1":"CalcScreen_digit--1__2KQOB","digit--7":"CalcScreen_digit--7__2xAR6","digit--2":"CalcScreen_digit--2__1qZG-","digit--5":"CalcScreen_digit--5__21DdK","digit--3":"CalcScreen_digit--3__2vEfU","digit--9":"CalcScreen_digit--9__1HSCG","digit--6":"CalcScreen_digit--6__3O4Ms"}},,function(e,t,n){e.exports={modal:"Modal_modal__31-mH",modal__title:"Modal_modal__title__12z67",modal__contentWrapper:"Modal_modal__contentWrapper__12Uy0",modal__text:"Modal_modal__text__o2t-T",modal__button:"Modal_modal__button__3kZI6"}},,function(e,t,n){e.exports={optionButton__wrapper:"OptionWrapper_optionButton__wrapper__-QcGI",optionButton:"OptionWrapper_optionButton__3MnEC","optionButton--clicked":"OptionWrapper_optionButton--clicked__15pvZ"}},function(e,t,n){e.exports={square:"Square_square__29Uf2","square--clicked":"Square_square--clicked__3goIH","nearbys--0":"Square_nearbys--0__3B9BU","nearbys--1":"Square_nearbys--1__2rv_l","nearbys--2":"Square_nearbys--2__AyuRe","nearbys--3":"Square_nearbys--3__y_IXO","nearbys--4":"Square_nearbys--4__297eu","nearbys--5":"Square_nearbys--5__n-yGU","nearbys--6":"Square_nearbys--6__3Cc6G","nearbys--7":"Square_nearbys--7__2TQc2","nearbys--8":"Square_nearbys--8__3TuG9",firstAnt:"Square_firstAnt__2p3BC"}},function(e,t,n){e.exports={bg__footer:"Footer_bg__footer__1Ec9g",startButton:"Footer_startButton__3c_D7",gameWindowButton:"Footer_gameWindowButton__161nZ"}},,function(e,t,n){e.exports={window:"Window_window__2b0FV","window--minimizing":"Window_window--minimizing__BFh_I",minimize:"Window_minimize__2n5Ja","window--maximizing":"Window_window--maximizing__1nHfA","window--minimized":"Window_window--minimized__1UDuv",maximize:"Window_maximize__3DVgN"}},,function(e,t,n){e.exports={overlay:"Overlay_overlay__13FXX",overlay_hide:"Overlay_overlay_hide__ADPY9"}},function(e,t,n){e.exports={gameWrapper:"Board_gameWrapper__1GUZw",boardWrapper:"Board_boardWrapper__2nasP"}},function(e,t,n){},,function(e,t,n){e.exports={optionsBar:"OptionsBar_optionsBar__15dYm"}},function(e,t,n){e.exports={faceButton:"FaceButton_faceButton__2SmbD"}},function(e,t,n){e.exports={controls:"Controls_controls__3MjnT"}},function(e,t,n){e.exports={board_row:"RowWrapper_board_row__1tOdI"}},function(e,t,n){e.exports={window_container:"App_window_container__1hSHD"}},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(19),c=n.n(o),i=(n(29),n(30),n(18),n(3)),s=n(2),l=function(e,t){switch(t.type){case"BOARD_SET":return console.log("ROUND REDUCER board set"),Object(s.a)(Object(s.a)({},e),{},{ready:!0,started:!1});case"START_ROUND":return console.log("ROUND REDUCER start round"),Object(s.a)(Object(s.a)({},e),{},{started:!0});case"WON":case"LOST":return console.log("ROUND REDUCER won/lost"),Object(s.a)(Object(s.a)({},e),{},{ready:!1});case"RESET":return console.log("ROUND REDUCER reset"),Object(s.a)({},t.payload);default:return Object(s.a)({},e)}},d={ready:!1,started:!1},u=n(0),b={ready:null,started:null,set:{ready:function(){},start:function(){},lost:function(){},won:function(){},reset:function(){}}},_=r.a.createContext(b),f=_,j=function(e){var t=Object(a.useReducer)(l,d),n=Object(i.a)(t,2),r=n[0],o=n[1],c={ready:function(){o({type:"BOARD_SET"})},start:function(){o({type:"START_ROUND"})},lost:function(){o({type:"LOST"})},won:function(){o({type:"WON"})},reset:function(){o({type:"RESET",payload:Object(s.a)({},d)})}};return Object(u.jsx)(_.Provider,{value:Object(s.a)(Object(s.a)({},r),{},{set:c}),children:e.children})},O={beginner:{rows:8,cols:8,ants:10,level:"beginner"},intermediate:{rows:16,cols:16,ants:40,level:"intermediate"},expert:{rows:24,cols:24,ants:99,level:"expert"}},p={rows:null,cols:null,ants:null,setParameters:function(e){}},g=r.a.createContext(p),m=g,x=function(e){var t=Object(a.useState)(O.beginner),n=Object(i.a)(t,2),r=n[0],o=n[1];return Object(u.jsx)(g.Provider,{value:Object(s.a)(Object(s.a)({},r),{},{setParameters:function(e){o(e),console.log("PARAMS CONTEXT changing params")}}),children:e.children})},h={click:{last:null,current:null,set:function(e){}},key:{last:null,current:null,set:function(e){}}},y=r.a.createContext(h),v=y,w=function(e){var t=Object(a.useState)(null),n=Object(i.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(null),s=Object(i.a)(c,2),l=s[0],d=s[1],b=Object(a.useState)(null),_=Object(i.a)(b,2),f=_[0],j=_[1],O=Object(a.useState)(null),p=Object(i.a)(O,2),g=p[0],m=p[1],x=Object(a.useCallback)((function(e){o(l),d(e)}),[l]),h=Object(a.useCallback)((function(e){j(g),m(e)}),[g]);return Object(u.jsx)(y.Provider,{value:{click:{last:r,current:l,set:x},key:{last:f,current:g,set:h}},children:e.children})},C=function(){var e=Object(a.useState)({x:0,y:0}),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!1),c=Object(i.a)(o,2),s=c[0],l=c[1],d=function(){console.log("dragmove hook dropping"),l(!1)};return{isDragging:s,grab:function(){console.log("dragmove hook grabbing"),l(!0)},drag:function(e){if(s){console.log("dragmove hook is dragging");e.clientY>20&&e.clientX>20&&e.clientX<e.view.innerWidth-20?r((function(t){return{x:t.x+e.movementX,y:t.y+e.movementY}})):(r({x:0,y:0}),d())}},drop:d,translate:n}},D={overlay:{display:null,modalContent:null,hide:function(){},show:function(){},modal:function(e){}},dragMove:{translate:{x:null,y:null},isDragging:null,grab:function(){},drag:function(e){},drop:function(){}},minimize:{isMinimized:null,down:function(){},up:function(){}}},S=r.a.createContext(D),E=S,B=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(null),s=Object(i.a)(c,2),l=s[0],d=s[1],b=function(){r||(o(!0),console.log("WINDOW CONTEXT showing overlay"))},_=Object(a.useState)(!1),f=Object(i.a)(_,2),O=f[0],p=f[1],g=C();return Object(u.jsx)(S.Provider,{value:{overlay:{display:r,modalContent:l,hide:function(){r&&(o(!1),console.log("WINDOW CONTEXT hiding overlay")),l&&d(null)},show:b,modal:function(e,t){d({title:e,content:t}),r||b(),console.log("WINDOW CONTEXT showing modal")}},dragMove:g,minimize:{isMinimized:O,down:function(){p(!0)},up:function(){p(!1)}}},children:Object(u.jsx)(x,{children:Object(u.jsx)(j,{children:Object(u.jsx)(w,{children:e.children})})})})},R=n(16),k=n.n(R),A=n(8),N=n.n(A),T=n(5),q=n.n(T),z=function(e){var t=C(),n=t.isDragging?"grabbing":"grab";return Object(u.jsxs)("article",{className:N.a.modal,style:{transform:"translateX(".concat(t.translate.x,"px) translateY(").concat(t.translate.y,"px)")},children:[Object(u.jsxs)("nav",{className:q.a.titleBar,onPointerDown:t.grab,onPointerUp:t.drop,onPointerOut:t.drop,onPointerMove:t.drag,onMouseOver:null,style:{cursor:n},children:[Object(u.jsx)("span",{className:q.a.titleBar__left,children:Object(u.jsx)("h1",{id:N.a.modal__title,children:e.title})}),Object(u.jsx)("span",{className:q.a.titleBar__right,children:Object(u.jsx)("button",{onClick:e.dismiss,children:"\u2716"})})]}),Object(u.jsx)("section",{className:N.a.modal__contentWrapper,children:Object(u.jsx)("div",{className:N.a.modal__text,children:e.children})}),Object(u.jsx)("section",{className:N.a.modal__buttonWrapper,children:Object(u.jsx)("button",{className:N.a.modal__button,onClick:e.dismiss,children:Object(u.jsx)("span",{children:"OK"})})})]})},M=function(){var e=Object(a.useContext)(E),t=null;return e.overlay.modalContent&&(t=Object(u.jsx)(z,{dismiss:function(){e.overlay.hide()},title:e.overlay.modalContent.title,children:e.overlay.modalContent.content})),Object(u.jsx)("div",{className:e.overlay.display?k.a.overlay:k.a.overlay_hide,children:e.overlay.modalContent?t:null})},W=n(7),U={unclicked:"",clicked:"",ant:["0xD83D","0xDC1C"],flag:["0xD83D","0xDEA9"]},P={sleeping:["0xD83D","0xDE34"],smiling:["0xD83D","0xDE0A"],yelling:["0xD83D","0xDE31"],upsideDown:["0xD83D","0xDE43"],exploded:["0xD83E","0xDD2F"],shades:["0xD83D","0xDE0E"],xEyes:["0xD83D","0xDE35"],sweating:["0xD83D","0xDE13"],winking:["0xD83D","0xDE09"]},I=function(){var e=Object(a.useContext)(E),t=e.dragMove.isDragging?"grabbing":"grab";return Object(u.jsxs)("section",{className:"".concat(q.a.titleBar," ").concat(e.overlay.display?q.a["titleBar--inactive"]:""),onPointerDown:e.dragMove.grab,onPointerUp:e.dragMove.drop,onPointerOut:e.dragMove.drop,onPointerMove:e.dragMove.drag,onMouseOver:null,style:{cursor:t},children:[Object(u.jsxs)("span",{className:q.a.titleBar__left,children:[String.fromCharCode.apply(String,Object(W.a)(U.ant)),Object(u.jsx)("h1",{children:"Antsweeper"})]}),Object(u.jsxs)("span",{className:q.a.titleBar__right,children:[Object(u.jsx)("button",{className:q.a["--minimize"],onClick:e.minimize.down,children:"_"}),Object(u.jsx)("button",{disabled:!0,className:"button--focus",children:"\u2716"})]})]})},F=n(4),L=n.n(F),G=function(){var e=Object(a.useContext)(m),t=Object(a.useContext)(f),n=Object(a.useContext)(E);return Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)("ul",{className:L.a.dropdown__section,children:Object(u.jsx)("li",{onClick:function(){t.set.reset()},children:"New Game"})}),Object(u.jsx)("ul",{className:L.a.dropdown__section,children:["beginner","intermediate","expert"].map((function(t){return Object(u.jsx)("li",{onClick:function(){return function(t){e.setParameters(O[t])}(t)},className:e.level===t?L.a["--selected"]:null,children:t.charAt(0).toUpperCase()+t.slice(1)},"level-".concat(t))}))}),Object(u.jsx)("ul",{className:L.a.dropdown__section,children:Object(u.jsxs)("li",{className:" ".concat(L.a["--secondaryLetter"]),onClick:function(){n.overlay.modal("Best Times","boop!")},children:["Best ",Object(u.jsx)("span",{children:"T"}),"imes..."]})})]})},X=function(e){return Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)("ul",{className:L.a.dropdown__section,children:Object(u.jsx)("a",{href:"https://github.com/erinruthmaness/antsweeper",children:Object(u.jsx)("li",{children:"Contents"})})}),Object(u.jsx)("ul",{className:L.a.dropdown__section,children:Object(u.jsx)("a",{target:"_blank",rel:"noreferrer",href:"http://www.minesweeper.info/wiki/Windows_Minesweeper",children:Object(u.jsx)("li",{children:"About Minesweeper..."})})})]})},H=function(e){return Object(u.jsxs)("aside",{className:L.a.dropdown,children:["Game"===e.which?Object(u.jsx)(G,{}):null,"Help"===e.which?Object(u.jsx)(X,{}):null]})},Y=n(10),K=n.n(Y),V=function(e){var t=Object(a.useContext)(v),n=Object(a.useState)(!1),r=Object(i.a)(n,2),o=r[0],c=r[1],s=Object(a.useState)(!1),l=Object(i.a)(s,2),d=l[0],b=l[1],_=Object(a.useCallback)((function(){o||c(!0)}),[o]),f=Object(a.useCallback)((function(){o&&(c(!1),b(!1))}),[o]);return Object(a.useEffect)((function(){var e=setTimeout((function(){o&&b(!0)}),500);return function(){return clearTimeout(e)}}),[o]),Object(a.useEffect)((function(){if(d&&t.click.current){if(t.click.current.target.id===e.buttonText+"-optionButton")return;o&&f()}}),[t.click,o,d,f,e.buttonText]),Object(u.jsxs)("div",{className:K.a.optionButton__wrapper,children:[Object(u.jsx)("button",{id:e.buttonText+"-optionButton",className:o?"".concat(K.a.optionButton," ").concat(K.a["optionButton--clicked"]):K.a.optionButton,onClick:function(e){o?f():_()},children:e.buttonText}),o?Object(u.jsx)(H,{which:e.buttonText}):null]})},Z=n(20),J=n.n(Z),Q=function(){return Object(u.jsxs)("nav",{className:J.a.optionsBar,children:[Object(u.jsx)(V,{buttonText:"Game"}),Object(u.jsx)(V,{buttonText:"Help"})]})},$=function(){return Object(u.jsxs)("header",{children:[Object(u.jsx)(I,{}),Object(u.jsx)(Q,{})]})},ee=function(e,t){switch(t.type){case"RESET_BOARD":return console.log("BOARD REDUCER reset board"),Object(s.a)({},t.payload);case"CLEAR_BOARD":return console.log("BOARD REDUCER clear board"),Object(s.a)(Object(s.a)({},e),{},{board:[]});case"UNCOVER_BOARD":return console.log("BOARD REDUCER uncover board"),Object(s.a)(Object(s.a)(Object(s.a)({},e),t.payload),{},{face:P.smiling});case"SET_ANTS":return console.log("BOARD REDUCER set ants"),Object(s.a)(Object(s.a)(Object(s.a)({},e),t.payload),{},{face:P.smiling});case"UPDATE_BOARD":return console.log("BOARD REDUCER update board"),Object(s.a)(Object(s.a)({},e),t.payload);case"SET_FACE":return console.log("BOARD REDUCER set face"),Object(s.a)(Object(s.a)({},e),{},{face:t.payload});default:return Object(s.a)({},e)}},te=function(e){return{board:[],level:e.level,parameters:{rows:e.rows,cols:e.cols,ants:e.ants,antList:[]},flags:0,face:P.sleeping}},ne=n(21),ae=n.n(ne),re=function(e){return Object(u.jsx)("button",{className:ae.a.faceButton,onClick:e.onClick,children:String.fromCharCode(e.face[0],e.face[1])})},oe=function(e,t){return e+"--"+t.toString()},ce=n(6),ie=n.n(ce),se=function(e){var t=e.display.toString().padStart(3,"0").split("");return t&&"off"!==t||(t=["8","8","8"]),Object(u.jsx)("section",{className:ie.a.calcScreen,id:e.id,children:t.map((function(t,n){return Object(u.jsxs)("div",{className:"".concat(ie.a.digit," ").concat(ie.a[oe("digit",t)]),children:[Object(u.jsx)("div",{className:"".concat(ie.a.digit__top," ").concat(ie.a.digit__half)}),Object(u.jsx)("div",{className:"".concat(ie.a.digit__bottom," ").concat(ie.a.digit__half)})]},"".concat(e.id,"-digit-").concat(n))}))})},le=n(22),de=n.n(le),ue=function(e){var t=Object(a.useState)("off"),n=Object(i.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(e.firstClick),s=Object(i.a)(c,2),l=s[0],d=s[1];return Object(a.useEffect)((function(){return e.firstClick&&!l&&d(!0),!e.firstClick&&l&&d(!1),function(){}}),[e.firstClick,l]),Object(a.useEffect)((function(){var t;return l&&e.inProgress&&e.firstClick&&(t=setInterval((function(){r<999&&o((function(e){return e+1}))}),1e3)),e.inProgress||clearInterval(t),function(){clearInterval(t)}}),[r,l,e.firstClick,e.inProgress]),Object(u.jsxs)("section",{className:de.a.controls,children:[Object(u.jsx)(se,{id:"flags",display:e.inProgress||l?e.flags:"off"}),Object(u.jsx)(re,{onClick:function(){o(0),e.startGame()},face:e.face}),Object(u.jsx)(se,{id:"timer",display:e.inProgress||l?r:"off"})]})},be={squareResponse:function(e,t){return{which:e,face:t}},touchStart:function(e){return e?be.squareResponse("touchStart",P.winking):be.squareResponse("touchStart",P.yelling)},touchEnd:function(e){return console.log("touch end count is "+e),e>0?be.squareResponse("right",P.smiling):be.squareResponse("left",P.smiling)},mouseDown:function(e,t){return 1===e?t.flagged?be.squareResponse("left",P.winking):be.squareResponse("left",P.yelling):t.flagged?be.squareResponse("right",P.sweating):be.squareResponse("right",P.smiling)}},_e=n(11),fe=n.n(_e),je=!1,Oe="left",pe=!1,ge=0;var me=function(e){var t=Object(a.useRef)(),n=function(){je=!1,Oe="left",pe=!1,ge=0},r=function(t,a){if(e.gameOver)n();else if(!(pe||e.sq.revealed||e.sq.flagged&&1===t.nativeEvent.which))if("down"===a){je=!0;var r=be.mouseDown(t.nativeEvent.which,e);Oe=r.which,e.changeFace(r.face)}else"up"===a&&(pe||c(Oe))},o=function(a){if(e.gameOver)n();else if(!(e.gameOver||je||e.sq.revealed))if("start"===a)pe=!0,e.changeFace(be.touchStart(e.sq.flagged).face),t.current=setInterval((function(){ge++}),800);else if("end"===a){clearInterval(t.current);var r=be.touchEnd(ge);if(e.sq.flagged&&"left"===r.which)return void e.changeFace(r.face);c(r.which)}},c=function(t){Oe="left",ge=0,e.onClick(e.sq.y,e.sq.x,t.toUpperCase()+"_CLICK")};return Object(u.jsx)("button",{className:"\n        ".concat(fe.a.square,"\n        ").concat(e.sq.revealed&&fe.a["square--clicked"]," \n        ").concat(fe.a[oe("nearbys",e.sq.nearbyAnts)],"\n        ").concat(e.sq.revealed&&e.sq.ant&&!e.sq.unclickedAnt?fe.a.firstAnt:null," \n      "),onMouseDown:function(e){return r(e,"down")},onMouseUp:pe?void 0:function(e){return r(e,"up")},onTouchStart:function(){return o("start")},onTouchEnd:je?void 0:function(){return o("end")},onContextMenu:function(e){return e.preventDefault()},children:Array.isArray(e.sq.display)?String.fromCharCode(e.sq.display[0],e.sq.display[1]):e.sq.display})},xe=n(23),he=n.n(xe),ye=function(e){return e.boardGrid.map((function(t,n){return Object(u.jsx)("div",{className:he.a.board_row,children:t.map((function(t){return Object(u.jsx)(me,{id:t.key,sq:t,onClick:e.handleSquareClick,changeFace:e.setFace,gameOver:!e.gameInProgress},t.key)}))},"row-".concat(n))}))},ve=function(e,t){return{key:"cell-x"+e+"-y"+t,x:e,y:t,ant:!1,revealed:!1,display:U.unclicked,flagged:!1,nearbyAnts:0,neighbors:[]}},we=function(e,t){return Array.from(Array(e),(function(e,n){return Array.from(Array(t),(function(e,t){return ve(t,n)}))}))},Ce=function(e,t){for(var n=Array.from(Array(e),(function(e,t){return{id:t+1,ant:!1}})),a=0;a<t;a++)n[a].ant=!0;return function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e}(n)},De=function(e){var t=e.parameters.rows*e.parameters.cols,n=Ce(t,e.parameters.ants),a=t-1,r=[];return e.board.forEach((function(e){e.forEach((function(e){e.ant=n[a].ant,a--,e.ant&&r.push(e.key)}))})),[e.board,r]},Se=function(e,t){var n=!1;return t.forEach((function(t){null!==t&&e.some((function(e){return e===t.key}))&&(n=!0)})),n},Ee=function(e,t){return[t-1>=0?e[t-1]:null,e[t],t+1<e.length?e[t+1]:null]},Be=function(e,t,n){var a=t-1>=0?Ee(e[t-1],n):[null,null,null],r=Ee(e[t],n),o=t+1<e.length?Ee(e[t+1],n):[null,null,null];return a.concat(r,o)},Re=function(e,t,n){return function(e,t){var n,a=e.board,r=[];do{var o=De(e),c=Object(i.a)(o,2);a=c[0],r=c[1]}while(Se(r,t));return[(n=a,n.forEach((function(e,t){e.forEach((function(e,a){var r=0,o=Be(n,t,a);o.forEach((function(e){e&&e.ant&&r++})),e.nearbyAnts=r,e.neighbors=o.filter((function(e){return null!==e}))}))})),n),r]}(e,Be(e.board,t,n))},ke={won:function(){console.log("yeah")},lost:function(){console.log("oh no")}},Ae=function e(t,n){return t.neighbors.forEach((function(t){n[t.y][t.x].revealed||(n[t.y][t.x]=Object(s.a)(Object(s.a)({},t),{},{revealed:!0,display:0===t.nearbyAnts?"":t.nearbyAnts}),0===t.nearbyAnts&&(n=e(t,n)))})),n},Ne=function(e,t){var n=t;return e.neighbors.forEach((function(e){t[e.y][e.x].revealed||(t[e.y][e.x]=Object(s.a)(Object(s.a)({},e),{},{revealed:!0,display:0===e.nearbyAnts?"":e.nearbyAnts}),0===e.nearbyAnts&&(t=Ae(e,t)))})),n},Te=function(e,t){console.log("new square:"),console.log(t);var n=Object(W.a)(e);return n[t.y][t.x]=t,Object(W.a)(n)},qe=function(e,t){switch(console.log(t),t.type){case"LEFT_CLICK":if(t.payload.flagged||t.payload.revealed)return{newBoardState:Object(s.a)(Object(s.a)({},e),{},{face:P.smiling}),gameOver:!1};if(t.payload.ant){var n=Te(e.board,Object(s.a)(Object(s.a)({},t.payload),{},{display:U.ant,revealed:!0}));return{newBoardState:Object(s.a)(Object(s.a)({},e),{},{board:(c=n,i=e.parameters.antList,c.forEach((function(e,t){c.forEach((function(e,n){-1===i.indexOf(c[t][n].key)||c[t][n].revealed||c[t][n].flagged||(c[t][n]=Object(s.a)(Object(s.a)({},c[t][n]),{},{display:U.ant,revealed:!0,unclickedAnt:!0}))}))})),c),face:P.exploded}),gameOver:!0}}var a=P.smiling,r=!1,o=Te(e.board,Object(s.a)(Object(s.a)({},t.payload),{},{display:0===t.payload.nearbyAnts?"":t.payload.nearbyAnts,revealed:!0}));return function(e,t){var n=t.rows*t.cols-t.ants;return e.forEach((function(t,a){e.forEach((function(t,r){!e[a][r].ant&&e[a][r].revealed&&n--}))})),0===n}(e.board,e.parameters)&&(a=P.shades,r=!0),0===t.payload.nearbyAnts&&(o=Ne(t.payload,o)),{newBoardState:Object(s.a)(Object(s.a)({},e),{},{board:o,face:a}),gameOver:r};case"RIGHT_CLICK":return t.payload.flagged?{newBoardState:Object(s.a)(Object(s.a)({},e),{},{board:Te(e.board,Object(s.a)(Object(s.a)({},t.payload),{},{display:U.unclicked,revealed:!1,flagged:!1})),face:P.smiling,flags:e.flags+1}),gameOver:!1}:e.flags>0?{newBoardState:Object(s.a)(Object(s.a)({},e),{},{board:Te(e.board,Object(s.a)(Object(s.a)({},t.payload),{},{display:U.flag,revealed:!1,flagged:!0})),face:P.smiling,flags:e.flags-1}),gameOver:!1}:{newBoardState:Object(s.a)(Object(s.a)({},e),{},{face:P.smiling}),gameOver:!1};default:return void console.log("squareClick reducer error: ",t.type)}var c,i},ze=n(17),Me=n.n(ze),We=function(){var e=Object(a.useContext)(m),t=Object(a.useContext)(f),n=Object(a.useReducer)(ee,te(e)),r=Object(i.a)(n,2),o=r[0],c=r[1],l=Object(a.useCallback)((function(){c({type:"RESET_BOARD",payload:te(e)}),t.set.reset()}),[e,t.set]),d=Object(a.useCallback)((function(e,n,a){if(!t.started){var r=Re(o,e,n),l=Object(i.a)(r,2),d=l[0],u=l[1];console.log(d),c({type:"SET_ANTS",payload:{board:d,parameters:Object(s.a)(Object(s.a)({},o.parameters),{},{antList:u})}}),t.set.start()}console.log(o.board[e][n]);var b=qe(Object(s.a)({},o),{type:a,payload:o.board[e][n]}),_=b.newBoardState,f=b.gameOver;f&&_.face===P.exploded?(t.set.lost(),ke.lost()):f&&_.face===P.shades&&(t.set.won(),ke.won()),c({type:"UPDATE_BOARD",payload:{board:_.board,face:_.face,flags:_.flags}})}),[o,t]);return Object(a.useEffect)((function(){(e.level!==o.level||!t.ready&&!t.started&&o.board.length>0)&&l()}),[e.level,o.level,o.board,t,l]),Object(u.jsxs)("article",{className:Me.a.gameWrapper,children:[Object(u.jsx)(ue,{startGame:function(){t.started&&l(),c({type:"CLEAR_BOARD"}),c({type:"UNCOVER_BOARD",payload:{board:we(o.parameters.rows,o.parameters.cols),parameters:Object(s.a)({},o.parameters),flags:o.parameters.ants}}),t.set.ready()},inProgress:t.ready,face:o.face,flags:o.flags,firstClick:t.started}),Object(u.jsx)("section",{className:Me.a.boardWrapper,children:o.board?Object(u.jsx)(ye,{boardGrid:o.board,handleSquareClick:d,setFace:function(e){c({type:"SET_FACE",payload:e})},gameInProgress:t.ready}):null})]})},Ue=n(14),Pe=n.n(Ue),Ie=function(){var e=Object(a.useContext)(E),t=Object(a.useState)(""),n=Object(i.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(!1),s=Object(i.a)(c,2),l=s[0],d=s[1],b=Object(a.useState)(!1),_=Object(i.a)(b,2),f=_[0],j=_[1];return Object(a.useCallback)((function(){console.log("window usecallback"),e.minimize.isMinimized&&!l&&o("window--minimizing"),e.minimize.isMinimized||f||o("window--maximizing")}),[e.minimize.isMinimized,l,f]),Object(u.jsx)("main",{className:"".concat(Pe.a.window," ").concat(r?Pe.a[r]:""," ").concat(e.minimize.isMinimized?Pe.a["window--minimized"]:""),style:{transform:e.minimize.isMinimized?"none":"translateX(".concat(e.dragMove.translate.x,"px) translateY(").concat(e.dragMove.translate.y,"px)")},onAnimationEnd:function(){console.log("animation ended"),"window--minimizing"===r?(o(""),d(!0),j(!1)):"window--maximizing"===r&&(o(""),j(!0),d(!1))},onAnimationStart:function(){console.log("animation started")},children:e.minimize.isMinimized?null:Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)(M,{}),Object(u.jsx)($,{}),Object(u.jsx)(We,{})]})})},Fe=n.p+"static/media/win98Logo.c4af9ed5.png",Le=n(12),Ge=n.n(Le),Xe=function(){var e=Object(a.useContext)(E),t=Ge.a.gameWindowButton;e.minimize.isMinimized||(t="".concat(Ge.a.gameWindowButton," button--focus"));return Object(u.jsxs)("footer",{className:Ge.a.bg__footer,children:[Object(u.jsxs)("button",{id:"windows_start",className:Ge.a.startButton,children:[Object(u.jsx)("img",{src:Fe,alt:"Windows 98 Logo"})," Start"]}),Object(u.jsxs)("button",{id:"antsweeper_min",className:t,onClick:function(){e.minimize.isMinimized?e.minimize.up():e.minimize.down()},children:[String.fromCharCode.apply(String,Object(W.a)(U.ant))," Antsweeper"]})]})},He=n(24),Ye=n.n(He);var Ke=function(){var e=Object(a.useContext)(m),t=Object(a.useContext)(v);return Object(a.useEffect)((function(){document.addEventListener("click",t.click.set),document.addEventListener("keypress",t.key.set)}),[t]),Object(u.jsxs)("div",{className:"".concat(e.level," ").concat(Ye.a.window_container),children:[Object(u.jsx)(Ie,{}),Object(u.jsx)(Xe,{})]})};c.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(B,{children:Object(u.jsx)(Ke,{})})}),document.getElementById("root"))}],[[32,1,2]]]);
//# sourceMappingURL=main.91dd8079.chunk.js.map