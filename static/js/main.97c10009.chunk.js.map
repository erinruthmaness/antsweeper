{"version":3,"sources":["Components/WindowHeader/OptionDropdown/OptionDropdown.module.css","Components/WindowHeader/TitleBar/TitleBar.module.css","Components/Game/CalcScreen/CalcScreen.module.css","Components/Modal/Modal/Modal.module.css","Components/WindowHeader/OptionWrapper/OptionWrapper.module.css","Components/Game/Square/Square.module.css","Components/Background/Footer/Footer.module.css","Components/Modal/About/About.module.css","Components/Background/Window/Window.module.css","Components/Modal/Overlay/Overlay.module.css","Components/WindowHeader/ExternalLinkIcon/ExternalLinkIcon.module.css","Components/Game/Board/Board.module.css","Components/WindowHeader/OptionsBar/OptionsBar.module.css","Components/Game/FaceButton/FaceButton.module.css","Components/Game/Controls/Controls.module.css","Components/Game/RowWrapper/RowWrapper.module.css","Components/Background/App/App.module.css","utils/reducers/roundReducer.js","utils/store/initialState/round.js","utils/store/roundContext.js","utils/store/initialState/paramLevels.js","utils/store/paramsContext.js","utils/store/userContext.js","hooks/useDragMove.js","utils/store/windowContext.js","hooks/useTrapFocus.js","utils/logic/keyHandler.js","Components/Modal/Modal/Modal.js","Components/Modal/Overlay/Overlay.js","imgs/icons.js","Components/WindowHeader/TitleBar/TitleBar.js","Components/Modal/HighScores/HighScores.js","Components/WindowHeader/GameMenu/GameMenu.js","Components/Modal/About/About.js","Components/WindowHeader/ExternalLinkIcon/ExternalLinkIcon.js","Components/WindowHeader/HelpMenu/HelpMenu.js","Components/WindowHeader/OptionDropdown/OptionDropdown.js","Components/WindowHeader/OptionWrapper/OptionWrapper.js","Components/WindowHeader/OptionsBar/OptionsBar.js","Components/WindowHeader/MenuBar/MenuBar.js","utils/reducers/boardReducer.js","utils/store/initialState/board.js","Components/Game/FaceButton/FaceButton.js","utils/logic/helpers.js","Components/Game/CalcScreen/CalcScreen.js","Components/Game/Controls/Controls.js","utils/logic/read.js","Components/Game/Square/Square.js","Components/Game/RowWrapper/RowWrapper.js","utils/store/initialState/square.js","Components/Game/Board/logic/newRound.js","Components/Game/Board/logic/startRound.js","Components/Game/Board/logic/endRound.js","Components/Game/Board/logic/clickHandler.js","Components/Game/Board/Board.js","Components/Background/Window/Window.js","imgs/win98Logo.png","Components/Background/Footer/Footer.js","Components/Background/App/App.js","index.js"],"names":["module","exports","roundReducer","state","action","type","console","log","ready","started","payload","initialRound","defaultContext","set","start","lost","won","reset","roundContext","React","createContext","RoundCtxProvider","props","useReducer","roundState","dispatchRound","Provider","value","children","levels","beginner","rows","cols","ants","level","intermediate","expert","setParameters","params","paramContext","ParamCtxProvider","useState","setParams","newParam","click","last","current","e","key","userContext","UserCtxProvider","lastClick","setLastClick","currentClick","setCurrentClick","lastKey","setLastKey","currentKey","setCurrentKey","handleClick","useCallback","handleKeyPress","useDragMove","x","y","translate","setTranslate","isDragging","setIsDragging","drop","grab","drag","clientY","clientX","view","innerWidth","prevState","movementX","movementY","overlay","display","modalContent","hide","show","modal","content","dragMove","minimize","isMinimized","down","up","windowContext","WindowCtxProvider","overlayState","setOverlayState","overlayContent","setOverlayContent","setIsMinimized","title","useTrapFocus","ref","useRef","focusableElements","setFocusableElements","activeIndex","setActiveIndex","next","i","length","focus","previous","useEffect","querySelectorAll","keyHandler","keyName","callback","shiftCallback","trim","shiftKey","preventDefault","Modal","modalDrag","cursorStyle","trapFocus","className","styles","style","transform","onKeyDown","dismiss","tabIndex","titleStyles","titleBar","onPointerDown","onPointerUp","onPointerOut","onPointerMove","onMouseOver","cursor","titleBar__left","id","modal__title","titleBar__right","onClick","modal__contentWrapper","modal__text","modal__buttonWrapper","modal__button","Overlay","windowCtx","useContext","popupDiv","overlay_hide","squares","unclicked","clicked","ant","flag","faces","sleeping","smiling","yelling","upsideDown","exploded","shades","xEyes","sweating","winking","TitleBar","String","fromCharCode","disabled","HighScores","advanced","scores","setScores","scoreList","toUpperCase","slice","map","score","name","a","fetch","res","json","resData","jsonScores","push","sortedScores","sort","b","fetchScores","GameMenu","paramCtx","roundCtx","dropdown__section","aria-label","lvl","handleSelect","charAt","About","emailCopied","setEmailCopied","copyText","navigator","clipboard","writeText","tooltip","onKeyPress","tooltip__text","ExternalLinkIcon","externalLink__outer","externalLink__inner","HelpMenu","href","target","rel","OptionDropdown","dropdown","which","OptionWrapper","userCtx","setDropdown","listenForGlobalClick","setListenForGlobalClick","handleDown","handleUp","timer","setTimeout","clearTimeout","buttonText","optionButton__wrapper","optionButton","OptionsBar","optionsBar","MenuBar","boardReducer","board","face","getInitialBoard","paramContextOBJ","parameters","antList","flags","FaceButton","faceButton","assessDigit","string","num","toString","CalcScreen","displayNum","padStart","split","calcScreen","digit","digitIdx","digit__top","digit__half","digit__bottom","Controls","clock","setClock","firstClick","clockStarted","setClockStarted","inProgress","setInterval","prevTime","clearInterval","controls","startGame","squareHandler","squareResponse","whichClick","whichFace","touchStart","flagged","touchEnd","count","mouseDown","whichNum","squareProps","wasClicked","clickType","wasTouched","touchLength","Square","countRef","parseClick","event","eventString","gameOver","sq","revealed","nativeEvent","downResult","changeFace","updateSquare","parseTouch","endResult","leftOrRight","square","nearbyAnts","unclickedAnt","firstAnt","onMouseDown","onMouseUp","undefined","onTouchStart","onTouchEnd","onContextMenu","Array","isArray","RowWrapper","boardGrid","row","index","board_row","handleSquareClick","setFace","gameInProgress","buildSquare","neighbors","newRound","from","col","buildAnthill","boardArea","numAnts","starterArray","idx","array","j","Math","floor","random","shuffle","assignAnts","boardState","antArray","counter","antMasterlist","forEach","cell","antInFirstClick","reservedNeighborhood","foundMatch","some","el","horizontalNeighbors","myIndex","buildNeighborhood","wholeBoard","rowAbove","myRow","rowBelow","concat","startRound","newBoard","neighborhood","filter","addAnts","endRound","recursiveUncover","centerSquare","uncoverNeighbors","startingSquare","updatedBoard","replaceSquareInBoard","newSquare","tempBoard","playerMoveReducer","newBoardState","allAnts","indexOf","tempFace","tempGameOver","gameParams","unclickedSafe","checkForWin","Board","paramsContext","dispatchBoard","restartRound","boardWithAnts","gameWrapper","boardWrapper","newFace","Window","animation","setAnimation","minComplete","setMinComplete","maxComplete","setMaxComplete","window","onAnimationEnd","onAnimationStart","Footer","gameWindowButtonStyle","gameWindowButton","bg__footer","startButton","src","win98logo","alt","App","document","addEventListener","window_container","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.97c10009.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdown\":\"OptionDropdown_dropdown__38DRP\",\"dropdown--open\":\"OptionDropdown_dropdown--open__33UTA\",\"slideup\":\"OptionDropdown_slideup__2pYIm\",\"dropdown__section\":\"OptionDropdown_dropdown__section__3j9XG\",\"delayRender\":\"OptionDropdown_delayRender__3rVI5\",\"--comingSoon\":\"OptionDropdown_--comingSoon__2sopC\",\"--secondaryLetter\":\"OptionDropdown_--secondaryLetter__11di5\",\"--selected\":\"OptionDropdown_--selected__TfmbY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleBar\":\"TitleBar_titleBar__2RV-D\",\"titleBar--inactive\":\"TitleBar_titleBar--inactive__29J5I\",\"titleBar__left\":\"TitleBar_titleBar__left__3-CBo\",\"titleBar__right\":\"TitleBar_titleBar__right__jGHgj\",\"--minimize\":\"TitleBar_--minimize__2uDpQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"calcScreen\":\"CalcScreen_calcScreen__RRwXz\",\"digit\":\"CalcScreen_digit__3VlIu\",\"digit__half\":\"CalcScreen_digit__half__1eycv\",\"digit--0\":\"CalcScreen_digit--0__1KEH2\",\"digit__top\":\"CalcScreen_digit__top__1HcA_\",\"digit__bottom\":\"CalcScreen_digit__bottom__1ewoz\",\"digit--4\":\"CalcScreen_digit--4__bd3kX\",\"digit--1\":\"CalcScreen_digit--1__2KQOB\",\"digit--7\":\"CalcScreen_digit--7__2xAR6\",\"digit--2\":\"CalcScreen_digit--2__1qZG-\",\"digit--5\":\"CalcScreen_digit--5__21DdK\",\"digit--3\":\"CalcScreen_digit--3__2vEfU\",\"digit--9\":\"CalcScreen_digit--9__1HSCG\",\"digit--6\":\"CalcScreen_digit--6__3O4Ms\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__yPXXe\",\"modal__title\":\"Modal_modal__title__o1iZp\",\"modal__contentWrapper\":\"Modal_modal__contentWrapper__2i-hy\",\"modal__text\":\"Modal_modal__text__Yqd0o\",\"modal__button\":\"Modal_modal__button__dEVgJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"optionButton__wrapper\":\"OptionWrapper_optionButton__wrapper__-QcGI\",\"optionButton\":\"OptionWrapper_optionButton__3MnEC\",\"optionButton--clicked\":\"OptionWrapper_optionButton--clicked__15pvZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"square\":\"Square_square__29Uf2\",\"square--clicked\":\"Square_square--clicked__3goIH\",\"nearbys--0\":\"Square_nearbys--0__3B9BU\",\"nearbys--1\":\"Square_nearbys--1__2rv_l\",\"nearbys--2\":\"Square_nearbys--2__AyuRe\",\"nearbys--3\":\"Square_nearbys--3__y_IXO\",\"nearbys--4\":\"Square_nearbys--4__297eu\",\"nearbys--5\":\"Square_nearbys--5__n-yGU\",\"nearbys--6\":\"Square_nearbys--6__3Cc6G\",\"nearbys--7\":\"Square_nearbys--7__2TQc2\",\"nearbys--8\":\"Square_nearbys--8__3TuG9\",\"firstAnt\":\"Square_firstAnt__2p3BC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bg__footer\":\"Footer_bg__footer__1Ec9g\",\"startButton\":\"Footer_startButton__3c_D7\",\"gameWindowButton\":\"Footer_gameWindowButton__161nZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tooltip\":\"About_tooltip__11UOO\",\"--emailCopied\":\"About_--emailCopied__1sOyL\",\"tooltip__text\":\"About_tooltip__text__38Jol\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"window\":\"Window_window__2b0FV\",\"window--minimizing\":\"Window_window--minimizing__BFh_I\",\"minimize\":\"Window_minimize__2n5Ja\",\"window--maximizing\":\"Window_window--maximizing__1nHfA\",\"window--minimized\":\"Window_window--minimized__1UDuv\",\"maximize\":\"Window_maximize__3DVgN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Overlay_overlay__3V6Nm\",\"overlay_hide\":\"Overlay_overlay_hide__3172W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"externalLink__outer\":\"ExternalLinkIcon_externalLink__outer__MLKkd\",\"externalLink__inner\":\"ExternalLinkIcon_externalLink__inner__oaE9z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gameWrapper\":\"Board_gameWrapper__1GUZw\",\"boardWrapper\":\"Board_boardWrapper__2nasP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"optionsBar\":\"OptionsBar_optionsBar__15dYm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"faceButton\":\"FaceButton_faceButton__2SmbD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__3MjnT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"board_row\":\"RowWrapper_board_row__1tOdI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"window_container\":\"App_window_container__1hSHD\"};","const roundReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"BOARD_SET\":\r\n        console.log(\"ROUND REDUCER board set\")\r\n      return { ...state, ready: true, started: false };\r\n    case \"START_ROUND\":\r\n        console.log(\"ROUND REDUCER start round\")\r\n      return { ...state, started: true };\r\n    case \"WON\":\r\n    case \"LOST\":\r\n        console.log(\"ROUND REDUCER won/lost\")\r\n      return { ...state, ready: false };\r\n    case \"RESET\":\r\n        console.log(\"ROUND REDUCER reset\")\r\n      return { ...action.payload };\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n\r\nexport default roundReducer;\r\n","const initialRound = {\r\n  ready: false,\r\n  started: false,\r\n};\r\n\r\nexport default initialRound;\r\n","import React, { useReducer } from \"react\";\r\nimport roundReducer from \"../reducers/roundReducer\";\r\nimport initialRound from \"./initialState/round\";\r\n\r\n//for IDE completion\r\nconst defaultContext = {\r\n  ready: null,\r\n  started: null,\r\n  set: {\r\n    ready: () => {},\r\n    start: () => {},\r\n    lost: () => {},\r\n    won: () => {},\r\n    reset: () => {},\r\n  },\r\n};\r\nconst roundContext = React.createContext(defaultContext);\r\nexport default roundContext;\r\n\r\nexport const RoundCtxProvider = (props) => {\r\n  const [roundState, dispatchRound] = useReducer(roundReducer, initialRound);\r\n\r\n  const set = {\r\n    ready: () => {\r\n      dispatchRound({ type: \"BOARD_SET\" });\r\n    },\r\n    start: () => {\r\n      dispatchRound({ type: \"START_ROUND\" });\r\n    },\r\n    lost: () => {\r\n      dispatchRound({ type: \"LOST\" });\r\n    },\r\n    won: () => {\r\n      dispatchRound({ type: \"WON\" });\r\n    },\r\n    reset: () => {\r\n      dispatchRound({ type: \"RESET\", payload: { ...initialRound } });\r\n    },\r\n  };\r\n\r\n  return (\r\n    <roundContext.Provider value={{ ...roundState, set: set }}>\r\n      {props.children}\r\n    </roundContext.Provider>\r\n  );\r\n};\r\n","const levels = {\r\n  beginner: {\r\n    rows: 8,\r\n    cols: 8,\r\n    ants: 10,\r\n    level: \"beginner\"\r\n  },\r\n  intermediate: {\r\n    rows: 16,\r\n    cols: 16,\r\n    ants: 40,\r\n    level: \"intermediate\"\r\n  },\r\n  expert: {\r\n    rows: 24,\r\n    cols: 24,\r\n    ants: 99,\r\n    level: \"expert\"\r\n  },\r\n};\r\n\r\nexport default levels;\r\n","import React, { useState } from \"react\";\r\nimport levels from \"./initialState/paramLevels\";\r\n\r\n//for IDE completion\r\nconst defaultContext = {\r\n\trows: null,\r\n\tcols: null,\r\n\tants: null,\r\n\tsetParameters: (params) => {},\r\n};\r\nconst paramContext = React.createContext(defaultContext);\r\nexport default paramContext;\r\n\r\nexport const ParamCtxProvider = (props) => {\r\n\tconst [params, setParams] = useState(levels.beginner);\r\n\r\n\tconst setParameters = (newParam) => {\r\n\t\tsetParams(newParam);\r\n\t\tconsole.log(\"PARAMS CONTEXT changing params\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<paramContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\t...params,\r\n\t\t\t\tsetParameters: setParameters,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{props.children}\r\n\t\t</paramContext.Provider>\r\n\t);\r\n};\r\n","import React, { useCallback, /*useEffect,*/ useState } from \"react\";\r\n\r\n//for IDE completion\r\nconst defaultContext = {\r\n\tclick: {\r\n\t\tlast: null,\r\n\t\tcurrent: null,\r\n\t\tset: (e) => {},\r\n\t},\r\n\tkey: {\r\n\t\tlast: null,\r\n\t\tcurrent: null,\r\n\t\tset: (e) => {},\r\n\t},\r\n};\r\nconst userContext = React.createContext(defaultContext);\r\nexport default userContext;\r\n\r\nexport const UserCtxProvider = (props) => {\r\n\tconst [lastClick, setLastClick] = useState(null);\r\n\tconst [currentClick, setCurrentClick] = useState(null);\r\n\tconst [lastKey, setLastKey] = useState(null);\r\n\tconst [currentKey, setCurrentKey] = useState(null);\r\n\r\n\tconst handleClick = useCallback(\r\n\t\t(e) => {\r\n\t\t\tsetLastClick(currentClick);\r\n\t\t\tsetCurrentClick(e);\r\n\t\t},\r\n\t\t[currentClick]\r\n\t);\r\n\r\n\tconst handleKeyPress = useCallback(\r\n\t\t(e) => {\r\n\t\t\tsetLastKey(currentKey);\r\n\t\t\tsetCurrentKey(e);\r\n\t\t},\r\n\t\t[currentKey]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<userContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tclick: {\r\n\t\t\t\t\tlast: lastClick,\r\n\t\t\t\t\tcurrent: currentClick,\r\n\t\t\t\t\tset: handleClick,\r\n\t\t\t\t},\r\n\t\t\t\tkey: {\r\n\t\t\t\t\tlast: lastKey,\r\n\t\t\t\t\tcurrent: currentKey,\r\n\t\t\t\t\tset: handleKeyPress,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{props.children}\r\n\t\t</userContext.Provider>\r\n\t);\r\n};\r\n","import { useState } from \"react\";\r\n\r\nconst useDragMove = () => {\r\n\tconst [translate, setTranslate] = useState({ x: 0, y: 0 });\r\n\tconst [isDragging, setIsDragging] = useState(false);\r\n\tconst grab = () => {\r\n\t\tsetIsDragging(true);\r\n\t};\r\n\tconst drag = (e) => {\r\n\t\tif (isDragging) {\r\n\t\t\tconst minMargin = 20;\r\n\t\t\tif (\r\n\t\t\t\te.clientY > minMargin &&\r\n\t\t\t\te.clientX > minMargin &&\r\n\t\t\t\te.clientX < e.view.innerWidth - minMargin\r\n\t\t\t) {\r\n\t\t\t\tsetTranslate((prevState) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tx: prevState.x + e.movementX,\r\n\t\t\t\t\t\ty: prevState.y + e.movementY,\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetTranslate({\r\n\t\t\t\t\tx: 0,\r\n\t\t\t\t\ty: 0,\r\n\t\t\t\t});\r\n\t\t\t\tdrop();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tconst drop = () => {\r\n\t\tsetIsDragging(false);\r\n\t};\r\n\r\n\treturn {\r\n\t\tisDragging,\r\n\t\tgrab,\r\n\t\tdrag,\r\n\t\tdrop,\r\n\t\ttranslate,\r\n\t};\r\n};\r\n\r\nexport default useDragMove;\r\n","import React, { useState } from \"react\";\r\nimport { RoundCtxProvider } from \"./roundContext\";\r\nimport { ParamCtxProvider } from \"./paramsContext\";\r\nimport { UserCtxProvider } from \"./userContext\";\r\nimport useDragMove from \"../../hooks/useDragMove\";\r\n\r\n//for IDE completion\r\nconst defaultContext = {\r\n\toverlay: {\r\n\t\tdisplay: null,\r\n\t\tmodalContent: null,\r\n\t\thide: () => {},\r\n\t\tshow: () => {},\r\n\t\tmodal: (content) => {},\r\n\t},\r\n\tdragMove: {\r\n\t\ttranslate: {\r\n\t\t\tx: null,\r\n\t\t\ty: null,\r\n\t\t},\r\n\t\tisDragging: null,\r\n\t\tgrab: () => {},\r\n\t\tdrag: (e) => {},\r\n\t\tdrop: () => {},\r\n\t},\r\n\tminimize: {\r\n\t\tisMinimized: null,\r\n\t\tdown: () => {},\r\n\t\tup: () => {},\r\n\t},\r\n};\r\nconst windowContext = React.createContext(defaultContext);\r\nexport default windowContext;\r\n\r\nexport const WindowCtxProvider = (props) => {\r\n\t//------overlay------\r\n\tconst [overlayState, setOverlayState] = useState(false);\r\n\tconst [overlayContent, setOverlayContent] = useState(null);\r\n\tconst hide = () => {\r\n\t\tif (overlayState) {\r\n\t\t\tsetOverlayState(false);\r\n\t\t}\r\n\t\tif (overlayContent) {\r\n\t\t\tsetOverlayContent(null);\r\n\t\t}\r\n\t\t// document.getElementsByTagName(\"main\").focus();\r\n\t};\r\n\tconst show = () => {\r\n\t\tif (!overlayState) {\r\n\t\t\tsetOverlayState(true);\r\n\t\t}\r\n\t};\r\n\tconst modal = (title, content) => {\r\n\t\tsetOverlayContent({ title, content });\r\n\t\tif (!overlayState) {\r\n\t\t\tshow();\r\n\t\t}\r\n\t};\r\n\t//------minimize------\r\n\tconst [isMinimized, setIsMinimized] = useState(false);\r\n\tconst down = () => {\r\n\t\tsetIsMinimized(true);\r\n\t};\r\n\tconst up = () => {\r\n\t\tsetIsMinimized(false);\r\n\t};\r\n\t//------dragMove------\r\n\tconst dragMove = useDragMove();\r\n\r\n\treturn (\r\n\t\t<windowContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\toverlay: {\r\n\t\t\t\t\tdisplay: overlayState,\r\n\t\t\t\t\tmodalContent: overlayContent,\r\n\t\t\t\t\thide,\r\n\t\t\t\t\tshow,\r\n\t\t\t\t\tmodal,\r\n\t\t\t\t},\r\n\t\t\t\tdragMove,\r\n\t\t\t\tminimize: {\r\n\t\t\t\t\tisMinimized,\r\n\t\t\t\t\tdown,\r\n\t\t\t\t\tup,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<ParamCtxProvider>\r\n\t\t\t\t<RoundCtxProvider>\r\n\t\t\t\t\t<UserCtxProvider>{props.children}</UserCtxProvider>\r\n\t\t\t\t</RoundCtxProvider>\r\n\t\t\t</ParamCtxProvider>\r\n\t\t</windowContext.Provider>\r\n\t);\r\n};\r\n","import { useRef, useEffect, useState, useCallback } from \"react\";\r\n\r\n/*==================================================/\r\n/ code adapted from Colete Wilson's codepen:        /\r\n/ https://codepen.io/colette-wilson/pen/NWpBPEy     /\r\n/==================================================*/\r\n\r\nconst useTrapFocus = () => {\r\n\t//use the ref to identify the element that will receive focus\r\n\tconst ref = useRef();\r\n\t//dynamically populated on render\r\n\tconst [focusableElements, setFocusableElements] = useState([]);\r\n\tconst [activeIndex, setActiveIndex] = useState(-1);\r\n\r\n\t//manually direct tab to elements within ref area\r\n\tconst next = useCallback(() => {\r\n\t\tlet i = activeIndex;\r\n\t\tactiveIndex + 1 === focusableElements.length ? (i = 0) : (i += 1);\r\n\t\tfocusableElements[i].focus();\r\n\t\tsetActiveIndex(i);\r\n\t}, [focusableElements, activeIndex]);\r\n\r\n\t//manually direct shift+tab to elements within ref area\r\n\tconst previous = useCallback(() => {\r\n\t\tlet i = activeIndex;\r\n\t\tactiveIndex - 1 < 0 ? (i = focusableElements.length - 1) : (i -= 1);\r\n\t\tfocusableElements[i].focus();\r\n\t\tsetActiveIndex(i);\r\n\t}, [focusableElements, activeIndex]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (ref.current) {\r\n\t\t\t// Select all focusable elements within ref (including ref)\r\n\t\t\tsetFocusableElements([\r\n\t\t\t\tref.current,\r\n\t\t\t\t...ref.current.querySelectorAll(\r\n\t\t\t\t\t\"a, button, textarea, input, select, .focusable\"\r\n\t\t\t\t),\r\n\t\t\t]);\r\n\t\t}\r\n\t}, [ref]);\r\n\treturn { ref, next, previous };\r\n};\r\n\r\nexport default useTrapFocus;\r\n","const keyHandler = (keyName, callback = null, shiftCallback = null, e) => {\r\n\tif (e.key === keyName.trim()) {\r\n\t\tconsole.log(`${e.key} detected!`);\r\n\t\tif (shiftCallback && e.shiftKey) {\r\n\t\t\tshiftCallback();\r\n\t\t}\r\n\t\tif (callback && !e.shiftKey) {\r\n\t\t\tcallback();\r\n\t\t}\r\n\t\te.preventDefault();\r\n\t}\r\n};\r\nexport default keyHandler;\r\n","import useDragMove from \"../../../hooks/useDragMove\";\r\nimport useTrapFocus from \"../../../hooks/useTrapFocus\";\r\nimport keyHandler from \"../../../utils/logic/keyHandler\";\r\n\r\nimport styles from \"./Modal.module.css\";\r\nimport titleStyles from \"../../WindowHeader/TitleBar/TitleBar.module.css\";\r\n\r\nconst Modal = (props) => {\r\n\tconst modalDrag = useDragMove();\r\n\tconst cursorStyle = modalDrag.isDragging ? \"grabbing\" : \"grab\";\r\n\r\n\tconst trapFocus = useTrapFocus();\r\n\r\n\tconst handleModalKeypress = (e) => {\r\n\t\tkeyHandler(\"Escape\", props.dismiss, null, e);\r\n\t\tkeyHandler(\"Tab\", trapFocus.next, trapFocus.previous, e);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<article\r\n\t\t\tref={trapFocus.ref}\r\n\t\t\tclassName={`focusable ${styles.modal}`}\r\n\t\t\tstyle={{\r\n\t\t\t\ttransform: `translateX(${modalDrag.translate.x}px) translateY(${modalDrag.translate.y}px)`,\r\n\t\t\t}}\r\n\t\t\tonKeyDown={handleModalKeypress}\r\n\t\t\ttabIndex={0}\r\n\t\t>\r\n\t\t\t<nav\r\n\t\t\t\tclassName={titleStyles.titleBar}\r\n\t\t\t\tonPointerDown={modalDrag.grab}\r\n\t\t\t\tonPointerUp={modalDrag.drop}\r\n\t\t\t\tonPointerOut={modalDrag.drop}\r\n\t\t\t\tonPointerMove={modalDrag.drag}\r\n\t\t\t\tonMouseOver={null}\r\n\t\t\t\tstyle={{ cursor: cursorStyle }}\r\n\t\t\t>\r\n\t\t\t\t<span className={titleStyles.titleBar__left}>\r\n\t\t\t\t\t<h1 id={styles.modal__title}>{props.title}</h1>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span className={titleStyles.titleBar__right}>\r\n\t\t\t\t\t<button onClick={props.dismiss}>&#10006;</button>\r\n\t\t\t\t</span>\r\n\t\t\t</nav>\r\n\t\t\t<section className={styles.modal__contentWrapper}>\r\n\t\t\t\t<div className={styles.modal__text}>{props.children}</div>\r\n\t\t\t</section>\r\n\t\t\t<section className={styles.modal__buttonWrapper}>\r\n\t\t\t\t<button className={styles.modal__button} onClick={props.dismiss}>\r\n\t\t\t\t\t<span>OK</span>\r\n\t\t\t\t</button>\r\n\t\t\t</section>\r\n\t\t</article>\r\n\t);\r\n};\r\n\r\nexport default Modal;\r\n","import { useContext } from \"react\";\r\nimport windowContext from \"../../../utils/store/windowContext\";\r\nimport styles from \"./Overlay.module.css\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nconst Overlay = () => {\r\n\tconst windowCtx = useContext(windowContext);\r\n\r\n\tconst handleClick = () => {\r\n\t\twindowCtx.overlay.hide();\r\n\t};\r\n\r\n\tlet popupDiv = null;\r\n\tif (windowCtx.overlay.modalContent) {\r\n\t\tpopupDiv = (\r\n\t\t\t<Modal dismiss={handleClick} title={windowCtx.overlay.modalContent.title}>\r\n\t\t\t\t{windowCtx.overlay.modalContent.content}\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={\r\n\t\t\t\twindowCtx.overlay.display ? styles.overlay : styles.overlay_hide\r\n\t\t\t}\r\n\t\t\t// onClick={handleClick}\r\n\t\t>\r\n\t\t\t{windowCtx.overlay.modalContent ? popupDiv : null}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Overlay;\r\n","//img directories\r\nexport const squares = {\r\n    unclicked: \"\",\r\n    clicked: \"\",\r\n    ant: [\"0xD83D\", \"0xDC1C\"],\r\n    flag: [\"0xD83D\", \"0xDEA9\"],\r\n}\r\n\r\nexport const faces = {\r\n    sleeping: [\"0xD83D\", \"0xDE34\"],\r\n    smiling: [\"0xD83D\", \"0xDE0A\"],\r\n    yelling: [\"0xD83D\", \"0xDE31\"],\r\n    upsideDown: [\"0xD83D\", \"0xDE43\"],\r\n    exploded: [\"0xD83E\", \"0xDD2F\"],\r\n    shades: [\"0xD83D\", \"0xDE0E\"],\r\n    xEyes: [\"0xD83D\", \"0xDE35\"],\r\n    sweating: [\"0xD83D\", \"0xDE13\"],\r\n    winking: [\"0xD83D\", \"0xDE09\"]\r\n}","import { useContext } from \"react\";\r\nimport { squares } from \"../../../imgs/icons\";\r\nimport windowContext from \"../../../utils/store/windowContext\";\r\n\r\nimport styles from \"./TitleBar.module.css\";\r\n\r\nconst TitleBar = () => {\r\n\tconst windowCtx = useContext(windowContext);\r\n\tconst cursorStyle = windowCtx.dragMove.isDragging ? \"grabbing\" : \"grab\";\r\n\treturn (\r\n\t\t<section\r\n\t\t\tclassName={`${styles.titleBar} ${\r\n\t\t\t\twindowCtx.overlay.display ? styles[\"titleBar--inactive\"] : \"\"\r\n\t\t\t}`}\r\n\t\t\tonPointerDown={windowCtx.dragMove.grab}\r\n\t\t\tonPointerUp={windowCtx.dragMove.drop}\r\n\t\t\tonPointerOut={windowCtx.dragMove.drop}\r\n\t\t\tonPointerMove={windowCtx.dragMove.drag}\r\n\t\t\tonMouseOver={null}\r\n\t\t\tstyle={{ cursor: cursorStyle }}\r\n\t\t>\r\n\t\t\t<span className={styles.titleBar__left}>\r\n\t\t\t\t{String.fromCharCode(...squares.ant)}\r\n\t\t\t\t<h1>Antsweeper</h1>\r\n\t\t\t</span>\r\n\t\t\t<span className={styles.titleBar__right}>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={styles[\"--minimize\"]}\r\n\t\t\t\t\tonClick={windowCtx.minimize.down}\r\n\t\t\t\t>\r\n\t\t\t\t\t_\r\n\t\t\t\t</button>\r\n\t\t\t\t<button disabled className={\"button--focus\"}>\r\n\t\t\t\t\t&#10006;\r\n\t\t\t\t</button>\r\n\t\t\t</span>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default TitleBar;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst HighScores = () => {\r\n\tconst [scores, setScores] = useState({\r\n\t\tbeginner: [],\r\n\t\tintermediate: [],\r\n\t\tadvanced: [],\r\n\t});\r\n\r\n\tconst scoreList = (level) => {\r\n\t\treturn (\r\n\t\t\t<ul>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<h3>{`${level[0].toUpperCase()}${level.slice(1)}`}</h3>\r\n\t\t\t\t</li>\r\n\t\t\t\t{scores[level].length ? (\r\n\t\t\t\t\tscores[level].map((score) => (\r\n\t\t\t\t\t\t<li key={score.id}>\r\n\t\t\t\t\t\t\t{score.name}: {score.score}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t))\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<li>No high scores yet for this level!</li>\r\n\t\t\t\t)}\r\n\t\t\t</ul>\r\n\t\t);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchScores = async () => {\r\n\t\t\tconst res = await fetch(\r\n\t\t\t\t\"https://fir-bee8d.firebaseio.com/antsweeper.json\"\r\n\t\t\t);\r\n\t\t\tconst resData = await res.json();\r\n\r\n\t\t\tconst jsonScores = { beginner: [], intermediate: [], advanced: [] };\r\n\t\t\tfor (const key in resData) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tjsonScores[resData[key].level].push({\r\n\t\t\t\t\t\tid: key,\r\n\t\t\t\t\t\tname: resData[key].name,\r\n\t\t\t\t\t\tscore: resData[key].score,\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(resData[key]);\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst sortedScores = {};\r\n\t\t\tfor (const level in jsonScores) {\r\n\t\t\t\tsortedScores[level] = jsonScores[level].sort(\r\n\t\t\t\t\t(a, b) => a.score > b.score\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tsetScores(sortedScores);\r\n\t\t};\r\n\t\tfetchScores();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<aside>\r\n\t\t\t<h2>Best Times</h2>\r\n\t\t\t{scoreList(\"beginner\")}\r\n\t\t\t{scoreList(\"intermediate\")}\r\n\t\t\t{scoreList(\"advanced\")}\r\n\t\t</aside>\r\n\t);\r\n};\r\n\r\nexport default HighScores;\r\n","import { Fragment, useContext } from \"react\";\r\nimport paramContext from \"../../../utils/store/paramsContext\";\r\nimport roundContext from \"../../../utils/store/roundContext\";\r\nimport windowContext from \"../../../utils/store/windowContext\";\r\nimport levels from \"../../../utils/store/initialState/paramLevels\";\r\nimport styles from \"../OptionDropdown/OptionDropdown.module.css\";\r\nimport HighScores from \"../../Modal/HighScores/HighScores\";\r\n\r\n// import styles from \"./GameMenu.module.css\";\r\n\r\nconst GameMenu = () => {\r\n\tconst gameLevels = [\"beginner\", \"intermediate\", \"expert\"];\r\n\tconst paramCtx = useContext(paramContext);\r\n\tconst roundCtx = useContext(roundContext);\r\n\tconst windowCtx = useContext(windowContext);\r\n\r\n\tconst handleSelect = (lvl) => {\r\n\t\tparamCtx.setParameters(levels[lvl]);\r\n\t};\r\n\r\n\tconst handleReset = () => {\r\n\t\troundCtx.set.reset();\r\n\t};\r\n\r\n\tconst handleModal = () => {\r\n\t\twindowCtx.overlay.modal(\"Best Times\", <HighScores />);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ul className={styles.dropdown__section}>\r\n\t\t\t\t<li onClick={handleReset} aria-label=\"New Game\">\r\n\t\t\t\t\tNew Game\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t\t<ul className={styles.dropdown__section}>\r\n\t\t\t\t{gameLevels.map((lvl) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\tkey={`level-${lvl}`}\r\n\t\t\t\t\t\t\tonClick={() => handleSelect(lvl)}\r\n\t\t\t\t\t\t\tclassName={paramCtx.level === lvl ? styles[\"--selected\"] : null}\r\n\t\t\t\t\t\t\taria-label={lvl.charAt(0).toUpperCase() + lvl.slice(1)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{lvl.charAt(0).toUpperCase() + lvl.slice(1)}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</ul>\r\n\t\t\t<ul className={styles.dropdown__section}>\r\n\t\t\t\t<li\r\n\t\t\t\t\tclassName={` ${styles[\"--secondaryLetter\"]}`}\r\n\t\t\t\t\tonClick={handleModal}\r\n\t\t\t\t\taria-label=\"Best Times\"\r\n\t\t\t\t>\r\n\t\t\t\t\tBest <span>T</span>imes...\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default GameMenu;\r\n","import { Fragment, useState } from \"react\";\r\nimport keyHandler from \"../../../utils/logic/keyHandler\";\r\nimport styles from \"./About.module.css\";\r\n\r\nconst About = () => {\r\n\tconst [emailCopied, setEmailCopied] = useState(false);\r\n\r\n\tconst copyText = () => {\r\n\t\t/*if (this.state.thisBrowser.name === \"IE\") {\r\n        window.clipboardData.setData(\"Text\", \"erinruthmaness@gmail.com\");\r\n    } else {*/\r\n\t\tnavigator.clipboard.writeText(\"erinruthmaness@gmail.com\");\r\n\t\t/*}*/\r\n\t\tsetEmailCopied(true);\r\n\t};\r\n\r\n\tconst keyPressHandler = (e) => {\r\n\t\tkeyHandler(\"Enter\", copyText, null, e);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<h2>Welcome To Antsweeper!</h2>\r\n\t\t\t<p>\r\n\t\t\t\tThis game recreates the old Windows Minesweeper game (but with ants - I\r\n\t\t\t\tgarden a lot) using React and some concepts introduced by React hooks. I\r\n\t\t\t\tlove reverse-engineering games and ideas using JavaScript, and I also\r\n\t\t\t\tlove Minesweeper, so this was bound to happen eventually.\r\n\t\t\t</p>\r\n\t\t\t<p>\r\n\t\t\t\tI've been working on this project casually in my free time as I study my\r\n\t\t\t\tway back through React hooks, so it may be missing features when you see\r\n\t\t\t\tit.\r\n\t\t\t</p>\r\n\t\t\t<p>\r\n\t\t\t\tI'm currently looking for a job! Click\r\n\t\t\t\t<strong>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={`${styles.tooltip} ${\r\n\t\t\t\t\t\t\temailCopied ? styles[\"--emailCopied\"] : \"focusable \"\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={copyText}\r\n\t\t\t\t\t\tonKeyPress={keyPressHandler}\r\n\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\there\r\n\t\t\t\t\t\t<span className={styles.tooltip__text}>\r\n\t\t\t\t\t\t\t{emailCopied ? \"Thank you!\" : \"Click to copy my email address\"}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</strong>\r\n\t\t\t\tto copy my email address.\r\n\t\t\t</p>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default About;\r\n","import styles from \"./ExternalLinkIcon.module.css\";\r\n\r\nconst ExternalLinkIcon = () => {\r\n\treturn (\r\n\t\t<span className={styles.externalLink__outer}>\r\n\t\t\t<div className={styles.externalLink__inner}></div>\r\n\t\t</span>\r\n\t);\r\n};\r\n\r\nexport default ExternalLinkIcon;\r\n","import { Fragment, useContext } from \"react\";\r\nimport windowContext from \"../../../utils/store/windowContext\";\r\nimport About from \"../../Modal/About/About\";\r\nimport ExternalLinkIcon from \"../ExternalLinkIcon/ExternalLinkIcon\";\r\n\r\nimport styles from \"../OptionDropdown/OptionDropdown.module.css\";\r\n\r\nconst HelpMenu = () => {\r\n\tconst windowCtx = useContext(windowContext);\r\n\r\n\tconst handleModal = () => {\r\n\t\twindowCtx.overlay.modal(\"About Antsweeper\", <About />);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ul className={styles.dropdown__section}>\r\n\t\t\t\t<a href=\"https://github.com/erinruthmaness/antsweeper\">\r\n\t\t\t\t\t<li>Contents</li>\r\n\t\t\t\t</a>\r\n\t\t\t</ul>\r\n\t\t\t<ul className={styles.dropdown__section}>\r\n\t\t\t\t<li onClick={handleModal} aria-label=\"What is Antsweeper?\">\r\n\t\t\t\t\tWhat is Antsweeper?\r\n\t\t\t\t</li>\r\n\t\t\t\t<a\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\trel=\"noreferrer\"\r\n\t\t\t\t\thref=\"http://www.minesweeper.info/wiki/Windows_Minesweeper\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<li aria-label=\"About Minesweeper (opens in new window)\">\r\n\t\t\t\t\t\tAbout Minesweeper... <ExternalLinkIcon />\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</a>\r\n\t\t\t</ul>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default HelpMenu;\r\n","import GameMenu from \"../GameMenu/GameMenu\";\r\nimport HelpMenu from \"../HelpMenu/HelpMenu\";\r\n\r\nimport styles from \"./OptionDropdown.module.css\";\r\n\r\nconst OptionDropdown = (props) => {\r\n  return (\r\n    <aside className={styles.dropdown}>\r\n      {props.which === \"Game\" ? <GameMenu /> : null}\r\n      {props.which === \"Help\" ? <HelpMenu /> : null}\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default OptionDropdown;\r\n","import { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport userContext from \"../../../utils/store/userContext\";\r\nimport OptionDropdown from \"../OptionDropdown/OptionDropdown\";\r\nimport styles from \"./OptionWrapper.module.css\";\r\n\r\nconst OptionWrapper = (props) => {\r\n\tconst userCtx = useContext(userContext);\r\n\r\n\tconst [dropdown, setDropdown] = useState(false);\r\n\tconst [listenForGlobalClick, setListenForGlobalClick] = useState(false);\r\n\r\n\tconst handleDown = useCallback(() => {\r\n\t\tif (!dropdown) {\r\n\t\t\tsetDropdown(true);\r\n\t\t}\r\n\t}, [dropdown]);\r\n\r\n\tconst handleUp = useCallback(() => {\r\n\t\tif (dropdown) {\r\n\t\t\tsetDropdown(false);\r\n\t\t\tsetListenForGlobalClick(false);\r\n\t\t}\r\n\t}, [dropdown]);\r\n\r\n\tconst handleClick = (e) => {\r\n\t\tif (dropdown) {\r\n\t\t\thandleUp();\r\n\t\t} else {\r\n\t\t\thandleDown();\r\n\t\t}\r\n\t};\r\n\r\n\t//make sure the dropdown animation has time to play\r\n\tuseEffect(() => {\r\n\t\tconst timer = setTimeout(() => {\r\n\t\t\tif (dropdown) {\r\n\t\t\t\tsetListenForGlobalClick(true);\r\n\t\t\t}\r\n\t\t}, 500);\r\n\t\treturn () => clearTimeout(timer);\r\n\t}, [dropdown]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (listenForGlobalClick && userCtx.click.current) {\r\n\t\t\tif (\r\n\t\t\t\tuserCtx.click.current.target.id ===\r\n\t\t\t\tprops.buttonText + \"-optionButton\"\r\n\t\t\t) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (dropdown) {\r\n\t\t\t\thandleUp();\r\n\t\t\t}\r\n\t\t}\r\n\t}, [\r\n\t\tuserCtx.click,\r\n\t\tdropdown,\r\n\t\tlistenForGlobalClick,\r\n\t\thandleUp,\r\n\t\tprops.buttonText,\r\n\t]);\r\n\r\n\treturn (\r\n\t\t<div className={styles.optionButton__wrapper}>\r\n\t\t\t<button\r\n\t\t\t\tid={props.buttonText + \"-optionButton\"}\r\n\t\t\t\tclassName={\r\n\t\t\t\t\tdropdown\r\n\t\t\t\t\t\t? `${styles.optionButton} ${styles[\"optionButton--clicked\"]}`\r\n\t\t\t\t\t\t: styles.optionButton\r\n\t\t\t\t}\r\n\t\t\t\tonClick={handleClick}\r\n\t\t\t>\r\n\t\t\t\t{props.buttonText}\r\n\t\t\t</button>\r\n\t\t\t{dropdown ? <OptionDropdown which={props.buttonText} /> : null}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default OptionWrapper;\r\n","import OptionButtonWrapper from \"../OptionWrapper/OptionWrapper\";\r\n\r\nimport styles from \"./OptionsBar.module.css\";\r\n\r\nconst OptionsBar = () => {\r\n\treturn (\r\n\t\t<nav className={styles.optionsBar}>\r\n\t\t\t<OptionButtonWrapper buttonText={\"Game\"} />\r\n\t\t\t<OptionButtonWrapper buttonText={\"Help\"} />\r\n\t\t</nav>\r\n\t);\r\n};\r\n\r\nexport default OptionsBar;\r\n","import TitleBar from '../TitleBar/TitleBar';\r\nimport OptionsBar from '../OptionsBar/OptionsBar';\r\n\r\n// import styles from \"./MenuBar.module.css\";\r\n\r\nconst MenuBar = () => {\r\n  return (\r\n    <header>\r\n     <TitleBar />\r\n     <OptionsBar />\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default MenuBar;\r\n","import { faces } from \"../../imgs/icons\";\r\n\r\nconst boardReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"RESET_BOARD\":\r\n        console.log(\"BOARD REDUCER reset board\")\r\n      return { ...action.payload };\r\n    case \"CLEAR_BOARD\":\r\n        console.log(\"BOARD REDUCER clear board\")\r\n      return { ...state, board: [] };\r\n    case \"UNCOVER_BOARD\":\r\n        console.log(\"BOARD REDUCER uncover board\")\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        face: faces.smiling,\r\n      };\r\n    case \"SET_ANTS\":\r\n        console.log(\"BOARD REDUCER set ants\")\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        face: faces.smiling,\r\n      };\r\n    case \"UPDATE_BOARD\":\r\n        console.log(\"BOARD REDUCER update board\")\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    case \"SET_FACE\":\r\n        console.log(\"BOARD REDUCER set face\")\r\n      return {\r\n        ...state,\r\n        face: action.payload,\r\n      };\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n\r\nexport default boardReducer;\r\n","import { faces } from '../../../imgs/icons';\r\n\r\nconst getInitialBoard = (paramContextOBJ) => {\r\n  return {\r\n    board: [],\r\n    level: paramContextOBJ.level,\r\n    parameters: {\r\n      rows: paramContextOBJ.rows,\r\n      cols: paramContextOBJ.cols,\r\n      ants: paramContextOBJ.ants,\r\n      antList: [],\r\n    },\r\n    flags: 0,\r\n    face: faces.sleeping,\r\n  };\r\n};\r\n\r\nexport default getInitialBoard;\r\n","import styles from \"./FaceButton.module.css\";\r\n\r\nconst FaceButton = (props) => {\r\n  return (\r\n    <button\r\n      className={styles.faceButton}\r\n      onClick={props.onClick}\r\n    >\r\n      {String.fromCharCode(props.face[0], props.face[1])}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default FaceButton;\r\n","//the Fisher-Yates shuffle\r\nexport const shuffle = (array) => {\r\n\tfor (let i = array.length - 1; i > 0; i--) {\r\n\t\tlet j = Math.floor(Math.random() * (i + 1));\r\n\t\t[array[i], array[j]] = [array[j], array[i]];\r\n\t}\r\n\treturn array;\r\n};\r\n\r\nexport const assessDigit = (string, num) => {\r\n\treturn string + \"--\" + num.toString();\r\n};\r\n","import { assessDigit } from '../../../utils/logic/helpers'\r\nimport styles from \"./CalcScreen.module.css\";\r\n\r\n\r\nconst CalcScreen = (props) => {\r\n  let displayNum = props.display.toString().padStart(3, \"0\").split(\"\");\r\n\r\n  if (!displayNum || (displayNum === \"off\")) {\r\n    displayNum = [\"8\", \"8\", \"8\"];\r\n  }\r\n  \r\n  return (\r\n    <section className={styles.calcScreen} id={props.id}>\r\n      {displayNum.map((digit, digitIdx) => (\r\n        <div\r\n          key={`${props.id}-digit-${digitIdx}`}\r\n          className={`${styles.digit} ${styles[assessDigit(\"digit\", digit)]}`}\r\n        >\r\n          <div className={`${styles.digit__top} ${styles.digit__half}`}></div>\r\n          <div className={`${styles.digit__bottom} ${styles.digit__half}`}></div>\r\n        </div>\r\n      ))}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default CalcScreen;\r\n","import { useState, useEffect } from \"react\";\r\nimport FaceButton from \"../FaceButton/FaceButton\";\r\nimport CalcScreen from \"../CalcScreen/CalcScreen\";\r\nimport styles from \"./Controls.module.css\";\r\n\r\nconst Controls = (props) => {\r\n  const [clock, setClock] = useState(\"off\");\r\n  const [clockStarted, setClockStarted] = useState(props.firstClick);\r\n\r\n  const startGameHandler = () => {\r\n    setClock(0);\r\n    // setClockStarted(true);\r\n    props.startGame();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (props.firstClick && !clockStarted) {\r\n      setClockStarted(true);\r\n    }\r\n    if (!props.firstClick && clockStarted) {\r\n      setClockStarted(false)\r\n    }\r\n    return () => {\r\n    };\r\n  }, [props.firstClick, clockStarted]);\r\n\r\n  useEffect(() => {\r\n    let timer;\r\n    if (clockStarted && props.inProgress && props.firstClick) {\r\n      timer = setInterval(() => {\r\n        if (clock < 999) {\r\n          setClock((prevTime) => prevTime + 1);\r\n        }\r\n      }, 1000);\r\n    }\r\n    if (!props.inProgress) {\r\n      clearInterval(timer);\r\n    }\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  }, [clock, clockStarted, props.firstClick, props.inProgress]);\r\n\r\n  return (\r\n    <section className={styles.controls}>\r\n        <CalcScreen\r\n          id={\"flags\"}\r\n          display={props.inProgress || clockStarted ? props.flags : \"off\"}\r\n        />\r\n      <FaceButton onClick={startGameHandler} face={props.face} />\r\n        <CalcScreen\r\n          id={\"timer\"}\r\n          display={props.inProgress || clockStarted ? clock : \"off\"}\r\n        />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Controls;\r\n","import { faces } from \"../../imgs/icons\";\r\n\r\n// returns { which: \"left\"/\"right\", face : \"[face code]\"}\r\nexport const squareHandler = {\r\n  squareResponse: (whichClick, whichFace) => {\r\n    return { which: whichClick, face: whichFace };\r\n  },\r\n  touchStart: (flagged) => {\r\n    if (flagged) {\r\n      return squareHandler.squareResponse(\"touchStart\", faces.winking);\r\n    } else {\r\n      return squareHandler.squareResponse(\"touchStart\", faces.yelling);\r\n    }\r\n  },\r\n  touchEnd: (count) => {\r\n    console.log(\"touch end count is \" + count);\r\n    //since touchStart doesn't put the face back on :D like mouseDown does\r\n    //touchEnd has to do it!\r\n    if (count > 0) {\r\n      return squareHandler.squareResponse(\"right\", faces.smiling);\r\n    } else {\r\n      return squareHandler.squareResponse(\"left\", faces.smiling);\r\n    }\r\n  },\r\n  mouseDown: (whichNum, squareProps) => {\r\n    if (whichNum === 1) {\r\n      //left click\r\n      if (squareProps.flagged) {\r\n        return squareHandler.squareResponse(\"left\", faces.winking);\r\n      } else {\r\n        //yell until mouse release\r\n        return squareHandler.squareResponse(\"left\", faces.yelling);\r\n      }\r\n    } else {\r\n      if (squareProps.flagged) {\r\n        //removing flag\r\n        return squareHandler.squareResponse(\"right\", faces.sweating);\r\n      } else {\r\n        //flag placement\r\n        return squareHandler.squareResponse(\"right\", faces.smiling);\r\n      }\r\n    }\r\n  },\r\n};","import { useRef } from \"react\";\r\nimport { assessDigit } from \"../../../utils/logic/helpers\";\r\nimport { squareHandler } from \"../../../utils/logic/read\";\r\nimport styles from \"./Square.module.css\";\r\n\r\n//declared outside of the component in case it might rerender & reset to default\r\n//don't need it in state because state triggers a UI change (rerender)\r\nlet wasClicked = false;\r\nlet clickType = \"left\";\r\nlet wasTouched = false;\r\nlet touchLength = 0;\r\n\r\nfunction Square(props) {\r\n  const countRef = useRef();\r\n\r\n  const reset = () => {\r\n    wasClicked = false;\r\n    clickType = \"left\";\r\n    wasTouched = false;\r\n    touchLength = 0;\r\n  };\r\n\r\n  const parseClick = (event, eventString) => {\r\n    //restore defaults real quick for people playing multiple games\r\n    if (props.gameOver) {\r\n      reset();\r\n      return;\r\n    }\r\n    if (\r\n      wasTouched ||\r\n      props.sq.revealed ||\r\n      (props.sq.flagged && event.nativeEvent.which === 1)\r\n    ) {\r\n      //do nothing if user is mobile, if square is already revealed,\r\n      //or if flagged and this is a left click\r\n      return;\r\n    } else if (eventString === \"down\") {\r\n      wasClicked = true;\r\n      // console.log(\"mouse down on \" + props.id);\r\n      //returns which: left or right click\r\n      //and face: what the face button should be (just :o since this is mousedown, not up)\r\n      let downResult = squareHandler.mouseDown(event.nativeEvent.which, props);\r\n      clickType = downResult.which;\r\n      props.changeFace(downResult.face);\r\n    } else if (eventString === \"up\") {\r\n      // console.log(\"mouse up on \" + props.id);\r\n      if (!wasTouched) {\r\n        updateSquare(clickType);\r\n      }\r\n    }\r\n  };\r\n\r\n  const parseTouch = (eventString) => {\r\n    if (props.gameOver) {\r\n      reset();\r\n      return;\r\n    }\r\n    //prevents a \"double click\" with touch firing and then mouse click firing\r\n    if (props.gameOver || wasClicked || props.sq.revealed) {\r\n      //do nothing if game is over, if user is mobile, or if square is already revealed\r\n      return;\r\n    } else if (eventString === \"start\") {\r\n      wasTouched = true;\r\n      // console.log(\"touch started on \" + props.id);\r\n      props.changeFace(squareHandler.touchStart(props.sq.flagged).face);\r\n      countRef.current = setInterval(() => {\r\n        touchLength++;\r\n        // console.log(touchLength);\r\n      }, 800);\r\n    } else if (eventString === \"end\") {\r\n      // console.log(\"touch ended on \" + props.id);\r\n      //stops timer\r\n      clearInterval(countRef.current);\r\n      //returns which: left or right click\r\n      let endResult = squareHandler.touchEnd(touchLength);\r\n      //\"left clicks\" shouldn't impact a flagged square\r\n      if (props.sq.flagged && endResult.which === \"left\") {\r\n        props.changeFace(endResult.face); //flagged squares don't get processed by Board\r\n        return;\r\n      } else {\r\n        updateSquare(endResult.which);\r\n      }\r\n    }\r\n  };\r\n\r\n  const updateSquare = (leftOrRight) => {\r\n    //reset defaults for this square, but not wasClicked/wasTouched\r\n    //because that should stay the same across the game\r\n    clickType = \"left\";\r\n    touchLength = 0;\r\n    props.onClick(\r\n      props.sq.y,\r\n      props.sq.x,\r\n      leftOrRight.toUpperCase() + \"_CLICK\"\r\n    );\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className={`\r\n        ${styles.square}\r\n        ${props.sq.revealed && styles[\"square--clicked\"]} \r\n        ${styles[assessDigit(\"nearbys\", props.sq.nearbyAnts)]}\r\n        ${\r\n          props.sq.revealed && props.sq.ant && !props.sq.unclickedAnt\r\n            ? styles.firstAnt\r\n            : null\r\n        } \r\n      `}\r\n      onMouseDown={(e) => parseClick(e, \"down\")}\r\n      onMouseUp={!wasTouched ? (e) => parseClick(e, \"up\") : undefined}\r\n      onTouchStart={() => parseTouch(\"start\")}\r\n      onTouchEnd={!wasClicked ? () => parseTouch(\"end\") : undefined}\r\n      onContextMenu={(e) => e.preventDefault()}\r\n    >\r\n      {Array.isArray(props.sq.display)\r\n        ? String.fromCharCode(props.sq.display[0], props.sq.display[1])\r\n        : props.sq.display}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Square;\r\n","import Square from \"../Square/Square\";\r\nimport styles from \"./RowWrapper.module.css\";\r\n\r\nconst RowWrapper = (props) => {\r\n  return props.boardGrid.map((row, index) => (\r\n    <div className={styles.board_row} key={`row-${index}`}>\r\n      {row.map((square) => (\r\n        <Square\r\n          key={square.key}\r\n          id={square.key}\r\n          sq={square}\r\n          onClick={props.handleSquareClick}\r\n          changeFace={props.setFace}\r\n          gameOver={!props.gameInProgress}\r\n        />\r\n      ))}\r\n    </div>\r\n  ));\r\n};\r\n\r\nexport default RowWrapper;\r\n","import { squares } from '../../../imgs/icons';\r\n\r\nconst buildSquare = (x, y) => {\r\n  return {\r\n    key: \"cell-x\" + x + \"-y\" + y,\r\n    x: x,\r\n    y: y,\r\n    ant: false,\r\n    revealed: false,\r\n    display: squares.unclicked,\r\n    flagged: false,\r\n    nearbyAnts: 0,\r\n    neighbors: [],\r\n  };\r\n};\r\n\r\nexport default buildSquare;\r\n","import buildSquare from \"../../../../utils/store/initialState/square\";\r\n\r\n//make an array of arrays of \"squares\"\r\nconst newRound = (rows, cols) => {\r\n  return Array.from(Array(rows), (row, y) => {\r\n    return Array.from(Array(cols), (col, x) =>\r\n      buildSquare(x, y)\r\n    );\r\n  });\r\n};\r\n\r\nexport default newRound;\r\n","import { shuffle } from \"../../../../utils/logic/helpers\";\r\n\r\n//make an array of true bools\r\n//with falses equal to the number of ants shuffled in\r\nconst buildAnthill = (boardArea, numAnts) => {\r\n  let starterArray = Array.from(Array(boardArea), (square, idx) => {\r\n    return { id: idx + 1, ant: false };\r\n  });\r\n  for (let i = 0; i < numAnts; i++) {\r\n    starterArray[i].ant = true;\r\n  }\r\n  return shuffle(starterArray);\r\n};\r\n\r\n//spread ants randomly through new board\r\nconst assignAnts = (boardState) => {\r\n  let boardArea = boardState.parameters.rows * boardState.parameters.cols;\r\n  let antArray = buildAnthill(boardArea, boardState.parameters.ants);\r\n  let counter = boardArea - 1;\r\n  let antMasterlist = [];\r\n  boardState.board.forEach((row) => {\r\n    row.forEach((cell) => {\r\n      cell.ant = antArray[counter].ant;\r\n      counter--;\r\n      if (cell.ant) {\r\n        antMasterlist.push(cell.key);\r\n      }\r\n    });\r\n  });\r\n\r\n  return [boardState.board, antMasterlist];\r\n};\r\n\r\n//count adjacent ants\r\n//and keep track of which all adjacent squares\r\nconst findNeighbors = (board) => {\r\n  board.forEach((row, y) => {\r\n    row.forEach((cell, x) => {\r\n      let numAnts = 0;\r\n      let neighborhood = buildNeighborhood(board, y, x);\r\n      neighborhood.forEach((square) => {\r\n        if (square && square.ant) {\r\n          numAnts++;\r\n        }\r\n      });\r\n      cell.nearbyAnts = numAnts;\r\n      cell.neighbors = neighborhood.filter((el) => el !== null);\r\n    });\r\n  });\r\n  return board;\r\n};\r\n\r\nconst antInFirstClick = (antList, reservedNeighborhood) => {\r\n  let foundMatch = false;\r\n  reservedNeighborhood.forEach((sq) => {\r\n    if (sq !== null && antList.some((el) => el === sq.key)) {\r\n      foundMatch = true;\r\n    }\r\n  });\r\n  return foundMatch;\r\n};\r\n\r\nconst addAnts = (boardState, reservedNeighborhood) => {\r\n  let newBoard = boardState.board;\r\n  let antList = [];\r\n  do {\r\n    [newBoard, antList] = assignAnts(boardState);\r\n  } while (antInFirstClick(antList, reservedNeighborhood));\r\n  return [findNeighbors(newBoard), antList];\r\n};\r\n\r\n//takes an array and an index and returns\r\n//[the value of the index before, the specified index, and the next index]\r\n//or null if there is no index before or after\r\n// (sort of like array.slice but replacing a non-existent or negative index with null)\r\nconst horizontalNeighbors = (y, myIndex) => {\r\n  return [\r\n    myIndex - 1 >= 0 ? y[myIndex - 1] : null,\r\n    y[myIndex],\r\n    myIndex + 1 < y.length ? y[myIndex + 1] : null,\r\n  ];\r\n};\r\n\r\n//takes an array of arrays and specified \"row\" and \"col\" indeces\r\n//and returns an array of nine values: essentially the value of the specified \"cell\"\r\n//and the values of all the cells that \"touch\" it in the \"grid\"\r\nexport const buildNeighborhood = (wholeBoard, y, x) => {\r\n  let rowAbove =\r\n    y - 1 >= 0 ? horizontalNeighbors(wholeBoard[y - 1], x) : [null, null, null];\r\n  let myRow = horizontalNeighbors(wholeBoard[y], x);\r\n  let rowBelow =\r\n    y + 1 < wholeBoard.length\r\n      ? horizontalNeighbors(wholeBoard[y + 1], x)\r\n      : [null, null, null];\r\n  return rowAbove.concat(myRow, rowBelow);\r\n};\r\n\r\nconst startRound = (boardState, y, x) => {\r\n  let clickedNeighborhood = buildNeighborhood(\r\n    boardState.board,\r\n    y,\r\n    x\r\n  );\r\n  return addAnts(boardState, clickedNeighborhood);\r\n};\r\n\r\nexport default startRound;\r\n","import { squares } from \"../../../../imgs/icons\";\r\n\r\nexport const detonateAnts = (board, allAnts) => {\r\n  board.forEach((row, y) => {\r\n    board.forEach((col, x) => {\r\n      if (\r\n        allAnts.indexOf(board[y][x].key) !== -1 &&\r\n        !board[y][x].revealed &&\r\n        !board[y][x].flagged\r\n      ) {\r\n        board[y][x] = {\r\n          ...board[y][x],\r\n          display: squares.ant,\r\n          revealed: true,\r\n          unclickedAnt: true,\r\n        };\r\n      }\r\n    });\r\n  });\r\n  return board;\r\n};\r\n\r\nconst endRound = {\r\n  won: () => {\r\n    console.log(\"yeah\");\r\n  },\r\n  lost: () => {\r\n    console.log(\"oh no\");\r\n    // return {\r\n    //   ...boardState,\r\n    //   board: detonateAnts(boardState.board, boardState.parameters.antList),\r\n    // };\r\n  },\r\n};\r\n\r\nexport default endRound;\r\n","import { detonateAnts } from \"./endRound\";\r\nimport { squares, faces } from \"../../../../imgs/icons\";\r\n\r\n//returns { square: {updated square}, face: [face code] }\r\n// const clickHandler = {\r\n//   routeClick: (clickedSquare, whichClick, remFlags) => {\r\n//     if (whichClick === \"left\") {\r\n//       return clickHandler.leftClick(clickedSquare, remFlags);\r\n//     } else if (whichClick === \"right\") {\r\n//       return clickHandler.rightClick(clickedSquare, remFlags);\r\n//     }\r\n//   },\r\n//   leftClick: (sq, remFlags) => {\r\n//     if (sq.flagged || sq.revealed) {\r\n//       return { square: sq, face: faces.smiling };\r\n//     } else {\r\n//       if (sq.ant) {\r\n//         return {\r\n//           square: {\r\n//             ...sq,\r\n//             display: squares.ant,\r\n//             revealed: true,\r\n//           },\r\n//           face: faces.exploded,\r\n//           flags: remFlags,\r\n//         };\r\n//       } else {\r\n//         return {\r\n//           square: {\r\n//             ...sq,\r\n//             display: sq.nearbyAnts === 0 ? \"\" : sq.nearbyAnts,\r\n//             revealed: true,\r\n//           },\r\n//           face: faces.smiling,\r\n//           flags: remFlags,\r\n//         };\r\n//       }\r\n//     }\r\n//   },\r\n//   rightClick: (sq, remFlags) => {\r\n//     //removing a flag\r\n//     if (sq.flagged) {\r\n//       return {\r\n//         square: {\r\n//           ...sq,\r\n//           display: squares.unclicked,\r\n//           revealed: false,\r\n//           flagged: false,\r\n//         },\r\n//         face: faces.smiling,\r\n//         flags: remFlags + 1,\r\n//       };\r\n//     } else {\r\n//       if (remFlags > 0) {\r\n//         return {\r\n//           square: {\r\n//             ...sq,\r\n//             display: squares.flag,\r\n//             revealed: false,\r\n//             flagged: true,\r\n//           },\r\n//           face: faces.smiling,\r\n//           flags: remFlags - 1,\r\n//         };\r\n//       } else {\r\n//         //player can't place more flags than ants\r\n//         return {\r\n//           square: { ...sq },\r\n//           face: faces.smiling,\r\n//           flags: remFlags,\r\n//         };\r\n//       }\r\n//     }\r\n//   },\r\n// };\r\n\r\nconst checkForWin = (board, gameParams) => {\r\n  let unclickedSafe = gameParams.rows * gameParams.cols - gameParams.ants;\r\n  board.forEach((row, y) => {\r\n    board.forEach((col, x) => {\r\n      if (!board[y][x].ant && board[y][x].revealed) {\r\n        unclickedSafe--;\r\n      }\r\n    });\r\n  });\r\n  if (unclickedSafe === 0) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nconst recursiveUncover = (centerSquare, board) => {\r\n  centerSquare.neighbors.forEach((sq) => {\r\n    if (!board[sq.y][sq.x].revealed) {\r\n      board[sq.y][sq.x] = {\r\n        ...sq,\r\n        revealed: true,\r\n        display: sq.nearbyAnts === 0 ? \"\" : sq.nearbyAnts,\r\n      };\r\n      if (sq.nearbyAnts === 0) {\r\n        board = recursiveUncover(sq, board);\r\n      }\r\n    }\r\n  });\r\n  return board;\r\n};\r\n\r\nconst uncoverNeighbors = (startingSquare, board) => {\r\n  //assumes a nearbyAnts === 0 starting square\r\n  let updatedBoard = board;\r\n  startingSquare.neighbors.forEach((sq) => {\r\n    if (!board[sq.y][sq.x].revealed) {\r\n      board[sq.y][sq.x] = {\r\n        ...sq,\r\n        revealed: true,\r\n        display: sq.nearbyAnts === 0 ? \"\" : sq.nearbyAnts,\r\n      };\r\n      if (sq.nearbyAnts === 0) {\r\n        board = recursiveUncover(sq, board);\r\n      }\r\n    }\r\n  });\r\n  return updatedBoard;\r\n};\r\n\r\nconst replaceSquareInBoard = (board, newSquare) => {\r\n  console.log(\"new square:\");\r\n  console.log(newSquare);\r\n  let tempBoard = [...board];\r\n  tempBoard[newSquare.y][newSquare.x] = newSquare;\r\n  return [...tempBoard];\r\n};\r\n\r\nconst playerMoveReducer = (boardState, action) => {\r\n  console.log(action);\r\n  switch (action.type) {\r\n    case \"LEFT_CLICK\":\r\n      if (action.payload.flagged || action.payload.revealed) {\r\n        //flagged or revealed square clicked (no action)\r\n        return {\r\n          newBoardState: {\r\n            ...boardState,\r\n            face: faces.smiling,\r\n          },\r\n          gameOver: false,\r\n        };\r\n      } else if (action.payload.ant) {\r\n        //ant uncovered (game over)\r\n        const tempBoard = replaceSquareInBoard(boardState.board, {\r\n          ...action.payload,\r\n          display: squares.ant,\r\n          revealed: true,\r\n        });\r\n        return {\r\n          newBoardState: {\r\n            ...boardState,\r\n            board: detonateAnts(tempBoard, boardState.parameters.antList),\r\n            face: faces.exploded,\r\n          },\r\n          gameOver: true,\r\n        };\r\n      } else {\r\n        //non-ant uncovered\r\n        let tempFace = faces.smiling;\r\n        let tempGameOver = false;\r\n        let tempBoard = replaceSquareInBoard(boardState.board, {\r\n          ...action.payload,\r\n          display:\r\n            action.payload.nearbyAnts === 0 ? \"\" : action.payload.nearbyAnts,\r\n          revealed: true,\r\n        });\r\n        if (checkForWin(boardState.board, boardState.parameters)) {\r\n          tempFace = faces.shades;\r\n          tempGameOver = true;\r\n        }\r\n        if (action.payload.nearbyAnts === 0) {\r\n          tempBoard = uncoverNeighbors(action.payload, tempBoard);\r\n        }\r\n        return {\r\n          newBoardState: {\r\n            ...boardState,\r\n            board: tempBoard,\r\n            face: tempFace,\r\n          },\r\n          gameOver: tempGameOver,\r\n        };\r\n      }\r\n    case \"RIGHT_CLICK\":\r\n      if (action.payload.flagged) {\r\n        //removing a flag\r\n        return {\r\n          newBoardState: {\r\n            ...boardState,\r\n            board: replaceSquareInBoard(boardState.board, {\r\n              ...action.payload,\r\n              display: squares.unclicked,\r\n              revealed: false,\r\n              flagged: false,\r\n            }),\r\n            face: faces.smiling,\r\n            flags: boardState.flags + 1,\r\n          },\r\n          gameOver: false,\r\n        };\r\n      } else if (boardState.flags > 0) {\r\n        //placing a flag\r\n        return {\r\n          newBoardState: {\r\n            ...boardState,\r\n            board: replaceSquareInBoard(boardState.board, {\r\n              ...action.payload,\r\n              display: squares.flag,\r\n              revealed: false,\r\n              flagged: true,\r\n            }),\r\n            face: faces.smiling,\r\n            flags: boardState.flags - 1,\r\n          },\r\n          gameOver: false,\r\n        };\r\n      } else {\r\n        //player can't place more flags than ants\r\n        return {\r\n          newBoardState: {\r\n            ...boardState,\r\n            face: faces.smiling,\r\n          },\r\n          gameOver: false,\r\n        };\r\n      }\r\n    default:\r\n      console.log(\"squareClick reducer error: \", action.type);\r\n      return;\r\n  }\r\n};\r\n\r\nexport default playerMoveReducer;\r\n","import { useCallback, useContext, useEffect, useReducer } from \"react\";\r\n\r\nimport paramsContext from \"../../../utils/store/paramsContext\";\r\nimport boardReducer from \"../../../utils/reducers/boardReducer\";\r\nimport getInitialBoard from \"../../../utils/store/initialState/board\";\r\n\r\nimport Controls from \"../Controls/Controls\";\r\nimport RowWrapper from \"../RowWrapper/RowWrapper\";\r\n\r\nimport { faces } from \"../../../imgs/icons\";\r\nimport newRound from \"./logic/newRound\";\r\nimport startRound from \"./logic/startRound\";\r\n\r\nimport playerMoveReducer from \"./logic/clickHandler\";\r\n// import clickHandler from \"./logic/clickHandler\";\r\n// import { checkForWin } from \"../../../utils/logic/playerMove/checkForWin\";\r\n// import uncoverNeighbors from \"../../../utils/logic/playerMove/uncoverNeighbors\";\r\n// import { detonateAnts } from \"../../../utils/logic/gameOver/detonateAnts\";\r\n\r\nimport styles from \"./Board.module.css\";\r\nimport roundContext from \"../../../utils/store/roundContext\";\r\nimport endRound from \"./logic/endRound\";\r\n\r\nconst Board = () => {\r\n  const paramCtx = useContext(paramsContext);\r\n  const roundCtx = useContext(roundContext);\r\n\r\n  const [boardState, dispatchBoard] = useReducer(\r\n    boardReducer,\r\n    getInitialBoard(paramCtx)\r\n  );\r\n\r\n  const restartRound = useCallback(() => {\r\n    dispatchBoard({\r\n      type: \"RESET_BOARD\",\r\n      payload: getInitialBoard(paramCtx),\r\n    });\r\n    roundCtx.set.reset();\r\n  }, [paramCtx, roundCtx.set]);\r\n\r\n  const onStart = () => {\r\n    //let happy onStart face restart a game in progress\r\n    if (roundCtx.started) {\r\n      restartRound();\r\n    }\r\n    //clear out previous round (if applicable)\r\n    dispatchBoard({ type: \"CLEAR_BOARD\" });\r\n    //fills out the board with uncovered squares, but no ants yet\r\n    dispatchBoard({\r\n      type: \"UNCOVER_BOARD\",\r\n      payload: {\r\n        board: newRound(boardState.parameters.rows, boardState.parameters.cols),\r\n        parameters: { ...boardState.parameters },\r\n        flags: boardState.parameters.ants,\r\n      },\r\n    });\r\n    roundCtx.set.ready();\r\n  };\r\n\r\n  const handleSquareClick = useCallback(\r\n    (y, x, clickType) => {\r\n      //first click\r\n      if (!roundCtx.started) {\r\n        let [boardWithAnts, antList] = startRound(boardState, y, x);\r\n        console.log(boardWithAnts);\r\n        dispatchBoard({\r\n          type: \"SET_ANTS\",\r\n          payload: {\r\n            board: boardWithAnts,\r\n            parameters: {\r\n              ...boardState.parameters,\r\n              antList: antList,\r\n            },\r\n          },\r\n        });\r\n        roundCtx.set.start();\r\n      }\r\n      // console.log(rowIndex, colIndex, whichClick);\r\n      console.log(boardState.board[y][x]);\r\n      // let updateGrid = [...boardState.board];\r\n      let { newBoardState, gameOver } = playerMoveReducer(\r\n        { ...boardState },\r\n        { type: clickType, payload: boardState.board[y][x] }\r\n      );\r\n      // let newClickedSquare =\r\n      // newBoardState[clickedSquare.row][clickedSquare.col];\r\n      // let updateAction = clickHandler.routeClick(\r\n      //   clickedSquare,\r\n      //   whichClick,\r\n      //   boardState.flags\r\n      // );\r\n\r\n      // updateGrid[rowIndex][colIndex] = updateAction.square;\r\n      // if (updateAction.square.revealed) {\r\n      //if an ant was uncovered\r\n      // if (updateAction.square.ant) {\r\n      // if (newClickedSquare.ant) {\r\n      if (gameOver && newBoardState.face === faces.exploded) {\r\n        roundCtx.set.lost();\r\n        endRound.lost();\r\n        // updateGrid = detonateAnts(updateGrid, boardState.parameters.antList);\r\n      } else if (gameOver && newBoardState.face === faces.shades) {\r\n        //if the last non-ant was uncovered\r\n        // updateAction.face = faces.shades;\r\n        roundCtx.set.won();\r\n        endRound.won();\r\n      }\r\n      //if a square with no nearby ants was uncovered\r\n      // if (updateAction.square.nearbyAnts === 0) {\r\n      //   updateGrid = uncoverNeighbors(updateAction.square, updateGrid);\r\n      // }\r\n      // }\r\n      dispatchBoard({\r\n        type: \"UPDATE_BOARD\",\r\n        payload: {\r\n          board: newBoardState.board,\r\n          face: newBoardState.face,\r\n          flags: newBoardState.flags,\r\n        },\r\n      });\r\n    },\r\n    [boardState, roundCtx]\r\n  );\r\n\r\n  const handleFaceChange = (newFace) => {\r\n    dispatchBoard({ type: \"SET_FACE\", payload: newFace });\r\n  };\r\n\r\n  useEffect(() => {\r\n    //reset board if the level has changed or if the round shouldn't be started\r\n    if (\r\n      paramCtx.level !== boardState.level ||\r\n      (!roundCtx.ready && !roundCtx.started && boardState.board.length > 0)\r\n    ) {\r\n      restartRound();\r\n    }\r\n  }, [\r\n    paramCtx.level,\r\n    boardState.level,\r\n    boardState.board,\r\n    roundCtx,\r\n    restartRound,\r\n  ]);\r\n  return (\r\n    <article className={styles.gameWrapper}>\r\n      <Controls\r\n        startGame={onStart}\r\n        inProgress={roundCtx.ready}\r\n        face={boardState.face}\r\n        flags={boardState.flags}\r\n        firstClick={roundCtx.started}\r\n      />\r\n      <section className={styles.boardWrapper}>\r\n        {boardState.board ? (\r\n          <RowWrapper\r\n            boardGrid={boardState.board}\r\n            handleSquareClick={handleSquareClick}\r\n            setFace={handleFaceChange}\r\n            gameInProgress={roundCtx.ready}\r\n          />\r\n        ) : null}\r\n      </section>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default Board;\r\n","import Overlay from \"../../Modal/Overlay/Overlay\";\r\nimport MenuBar from \"../../WindowHeader/MenuBar/MenuBar\";\r\nimport { Fragment, useContext, useCallback, useState } from \"react\";\r\nimport windowContext from \"../../../utils/store/windowContext\";\r\nimport Board from \"../../Game/Board/Board\";\r\nimport styles from \"./Window.module.css\";\r\n\r\nconst Window = () => {\r\n  const windowCtx = useContext(windowContext);\r\n  const [animation, setAnimation] = useState(\"\");\r\n  const [minComplete, setMinComplete] = useState(false);\r\n  const [maxComplete, setMaxComplete] = useState(false);\r\n\r\n  const animationEndHandler = () => {\r\n    console.log(\"animation ended\");\r\n    if (animation === \"window--minimizing\") {\r\n      //if the animation that just ran was minimize\r\n      setAnimation(\"\");\r\n      setMinComplete(true);\r\n      setMaxComplete(false);\r\n    } else if (animation === \"window--maximizing\") {\r\n      setAnimation(\"\");\r\n      setMaxComplete(true);\r\n      setMinComplete(false);\r\n    }\r\n    // setAnimation(null);\r\n  };\r\n\r\n  const animationStartHandler = () => {\r\n    console.log(\"animation started\");\r\n  };\r\n\r\n  useCallback(() => {\r\n    console.log(\"window usecallback\");\r\n    if (windowCtx.minimize.isMinimized && !minComplete) {\r\n      setAnimation(\"window--minimizing\");\r\n    }\r\n    if (!windowCtx.minimize.isMinimized && !maxComplete) {\r\n      setAnimation(\"window--maximizing\");\r\n    }\r\n  }, [windowCtx.minimize.isMinimized, minComplete, maxComplete]);\r\n\r\n  return (\r\n    <main\r\n      className={`focusable ${styles.window} ${animation ? styles[animation] : \"\"} ${\r\n        windowCtx.minimize.isMinimized ? styles[\"window--minimized\"] : \"\"\r\n      }`}\r\n      tabIndex={0}\r\n      style={{\r\n        transform: windowCtx.minimize.isMinimized\r\n          ? \"none\"\r\n          : `translateX(${windowCtx.dragMove.translate.x}px) translateY(${windowCtx.dragMove.translate.y}px)`,\r\n      }}\r\n      onAnimationEnd={animationEndHandler}\r\n      onAnimationStart={animationStartHandler}\r\n    >\r\n      {windowCtx.minimize.isMinimized ? null : (\r\n        <Fragment>\r\n          <Overlay />\r\n          <MenuBar />\r\n          <Board />\r\n        </Fragment>\r\n      )}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Window;\r\n","export default __webpack_public_path__ + \"static/media/win98Logo.c4af9ed5.png\";","import { useContext } from \"react\";\r\nimport win98logo from \"../../../imgs/win98Logo.png\";\r\nimport { squares } from \"../../../imgs/icons\";\r\nimport styles from \"./Footer.module.css\";\r\nimport windowContext from \"../../../utils/store/windowContext\";\r\n\r\nconst Footer = () => {\r\n  const windowCtx = useContext(windowContext);\r\n  let gameWindowButtonStyle = styles.gameWindowButton;\r\n  if (!windowCtx.minimize.isMinimized) {\r\n    gameWindowButtonStyle = `${styles.gameWindowButton} button--focus`;\r\n  }\r\n  const clickHandler = () => {\r\n    if (windowCtx.minimize.isMinimized) {\r\n      windowCtx.minimize.up();\r\n    } else {\r\n      windowCtx.minimize.down();\r\n    }\r\n  };\r\n  return (\r\n    <footer className={styles.bg__footer}>\r\n      <button id=\"windows_start\" className={styles.startButton}>\r\n        <img src={win98logo} alt=\"Windows 98 Logo\" /> Start\r\n      </button>\r\n      <button\r\n        id=\"antsweeper_min\"\r\n        className={gameWindowButtonStyle}\r\n        onClick={clickHandler}\r\n      >\r\n        {String.fromCharCode(...squares.ant)} Antsweeper\r\n      </button>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import Window from \"../Window/Window\";\r\nimport Footer from \"../Footer/Footer\";\r\n\r\nimport { useContext, useEffect } from \"react\";\r\nimport paramContext from \"../../../utils/store/paramsContext\";\r\nimport \"../../../style/levels.css\";\r\n\r\nimport styles from \"./App.module.css\";\r\nimport userContext from \"../../../utils/store/userContext\";\r\n\r\nfunction App() {\r\n\tconst paramCtx = useContext(paramContext);\r\n\tconst userCtx = useContext(userContext);\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener(\"click\", userCtx.click.set);\r\n\t\tdocument.addEventListener(\"keypress\", userCtx.key.set);\r\n\t}, [userCtx]);\r\n\r\n\treturn (\r\n\t\t<div className={`${paramCtx.level} ${styles.window_container}`}>\r\n\t\t\t<Window />\r\n\t\t\t<Footer />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./style/index.css\";\r\nimport \"./style/windows98.css\";\r\nimport \"./style/levels.css\";\r\nimport { WindowCtxProvider } from \"./utils/store/windowContext\";\r\nimport App from \"./Components/Background/App/App\";\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<WindowCtxProvider>\r\n\t\t\t<App />\r\n\t\t</WindowCtxProvider>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}