(this.webpackJsonpantsweeper=this.webpackJsonpantsweeper||[]).push([[0],[,,function(e,n,t){e.exports={page_nav:"Nav_page_nav__vDmiy",menu_bar:"Nav_menu_bar__1GFe8",menu_bar__left:"Nav_menu_bar__left__2-N_-",game_title:"Nav_game_title__1jH2S",menu_bar__right:"Nav_menu_bar__right__1h9Yg",windows95_button:"Nav_windows95_button__1EptJ",wc_box:"Nav_wc_box__1UbMO",wc_minimize:"Nav_wc_minimize__3_MRO",wc_maximize:"Nav_wc_maximize__229wl",wc_close:"Nav_wc_close__2orTD",dropdown_menu:"Nav_dropdown_menu__FWZOg",dropdown_choice:"Nav_dropdown_choice__1O6zs"}},,function(e,n,t){e.exports={calc_screen:"CalcScreen_calc_screen__3tjOL",calc_screen__digit:"CalcScreen_calc_screen__digit__pVuWc",digit_half:"CalcScreen_digit_half__tHRsU",digit_0:"CalcScreen_digit_0__1B8dK",num_top:"CalcScreen_num_top__1L84O",num_bottom:"CalcScreen_num_bottom__1Ml-A",digit_4:"CalcScreen_digit_4__1Ng4d",digit_1:"CalcScreen_digit_1__3hmyY",digit_7:"CalcScreen_digit_7__fJeE-",digit_2:"CalcScreen_digit_2__11c0d",digit_5:"CalcScreen_digit_5__3bn83",digit_3:"CalcScreen_digit_3__2pnmt",digit_9:"CalcScreen_digit_9__EzkXc",digit_6:"CalcScreen_digit_6__1tb4a"}},,,function(e,n,t){e.exports={board_controls:"Controls_board_controls__Ccfad",calc_screen__wrapper:"Controls_calc_screen__wrapper__2NflD"}},,function(e,n,t){e.exports={window__inner:"Board_window__inner__aoiFq",board__outer:"Board_board__outer__3tOml",board__inner:"Board_board__inner__3wIj1"}},,function(e,n,t){e.exports={grid_square:"Square_grid_square__1bEeJ",clicked_square:"Square_clicked_square__3OEAd"}},,function(e,n,t){e.exports={control_button:"FaceButton_control_button__1J2Mc"}},function(e,n,t){e.exports={board_row:"SquaresWrapper_board_row__2C4Un"}},function(e,n,t){e.exports={main_window:"Window_main_window___OveE"}},function(e,n,t){e.exports={windows_footer:"Footer_windows_footer__1_U7x"}},function(e,n,t){e.exports={App:"App_App__23Vul"}},,,,,,function(e,n,t){},,function(e,n,t){"use strict";t.r(n);var a=t(1),c=t.n(a),r=t(12),i=t.n(r),o=(t(23),t(2)),s=t.n(o),_=t(0),l=function(){return Object(_.jsxs)("header",{className:s.a.page_nav,children:[Object(_.jsxs)("section",{className:s.a.menu_bar,children:[Object(_.jsxs)("span",{className:s.a.menu_bar__left,children:[String.fromCharCode("0xD83D","0xDC1C"),Object(_.jsx)("span",{className:s.a.game_title,children:"Antsweeper"})]}),Object(_.jsxs)("span",{className:"".concat(s.a.menu_bar__right," ").concat(s.a.wc_box),disabled:!0,children:[Object(_.jsx)("button",{className:s.a.wc_minimize}),Object(_.jsx)("button",{className:s.a.wc_maximize}),Object(_.jsx)("button",{className:s.a.wc_close})]})]}),Object(_.jsxs)("section",{className:s.a.dropdown_menu,children:[Object(_.jsx)("button",{className:s.a.dropdown_choice,children:"Game"}),Object(_.jsx)("button",{className:s.a.dropdown_choice,children:"Help"})]})]})},u=t(18),d=t(5),f=t(13),g=t.n(f),b=function(e){return Object(_.jsx)("button",{className:"windows95 ".concat(g.a.control_button),onClick:e.onClick,children:String.fromCharCode(e.face[0],e.face[1])})},j=t(4),m=t.n(j),p=function(e){var n=e.display.toString().padStart(3,"0").split("");return n&&"off"!==n||(n=["8","8","8"]),Object(_.jsx)("section",{className:m.a.calc_screen,id:e.id,children:n.map((function(n,t){return Object(_.jsxs)("div",{className:"".concat(m.a.calc_screen__digit," ").concat(m.a[(a=n,"digit_"+a.toString())]),children:[Object(_.jsx)("div",{className:"".concat(m.a.num_top," ").concat(m.a.digit_half)}),Object(_.jsx)("div",{className:"".concat(m.a.num_bottom," ").concat(m.a.digit_half)})]},"".concat(e.id,"-digit-").concat(t));var a}))})},h=t(7),w=t.n(h),x=function(e){return Object(_.jsxs)("nav",{className:w.a.board_controls,children:[Object(_.jsx)("div",{className:w.a.calc_screen__wrapper,children:Object(_.jsx)(p,{id:"flags",display:e.inProgress?e.flags:"off"})}),Object(_.jsx)("div",{className:w.a.face_button__wrapper,children:Object(_.jsx)(b,{onClick:e.startGame,face:e.face})}),Object(_.jsx)("div",{className:w.a.calc_screen__wrapper,children:Object(_.jsx)(p,{id:"timer",display:"off"})})]})},O=t(3),v={unclicked:"?",clicked:"",ant:["0xD83D","0xDC1C"],flag:["0xD83D","0xDEA9"]},D={sleeping:["0xD83D","0xDE34"],smiling:["0xD83D","0xDE0A"],yelling:["0xD83D","0xDE31"],upsideDown:["0xD83D","0xDE43"],exploded:["0xD83E","0xDD2F"],shades:["0xD83D","0xDE0E"],xEyes:["0xD83D","0xDE35"],sweating:["0xD83D","0xDE13"],winking:["0xD83D","0xDE09"]},C={squareResponse:function(e,n){return{which:e,face:n}},touchStart:function(e){return e?C.squareResponse("touchStart",D.winking):C.squareResponse("touchStart",D.yelling)},touchEnd:function(e){return console.log("touch end count is "+e),e>0?C.squareResponse("right",D.smiling):C.squareResponse("left",D.smiling)},mouseDown:function(e,n){return 1===e?n.flagged?C.squareResponse("left",D.winking):C.squareResponse("left",D.yelling):n.flagged?C.squareResponse("right",D.sweating):C.squareResponse("right",D.smiling)}},N={routeClick:function(e,n,t){return"left"===n?N.leftClick(e,t):"right"===n?N.rightClick(e,t):void 0},leftClick:function(e,n){return e.flagged||e.revealed?{square:e,face:D.smiling,continue:!0}:e.ant?{square:Object(O.a)(Object(O.a)({},e),{},{display:v.ant,revealed:!0}),face:D.exploded,continue:!1,flags:n}:{square:Object(O.a)(Object(O.a)({},e),{},{display:0===e.nearbyAnts?"":e.nearbyAnts,revealed:!0}),face:D.smiling,continue:!0,flags:n}},rightClick:function(e,n){return e.flagged?{square:Object(O.a)(Object(O.a)({},e),{},{display:v.unclicked,revealed:!1,flagged:!1}),face:D.smiling,continue:!0,flags:n+1}:n>0?{square:Object(O.a)(Object(O.a)({},e),{},{display:v.flag,revealed:!1,flagged:!0}),face:D.smiling,continue:!0,flags:n-1}:{square:Object(O.a)({},e),face:D.smiling,continue:!0,flags:n}}},q=t(11),S=t.n(q),y=!1,k="left",E=!1,A=0;var F=function(e){var n=Object(a.useRef)(),t=function(){y=!1,k="left",E=!1,A=0},c=function(n,a){if(e.gameOver)t();else if(!(E||e.sq.revealed||e.sq.flagged&&1===n.nativeEvent.which))if("down"===a){y=!0,console.log("mouse down on "+e.id);var c=C.mouseDown(n.nativeEvent.which,e);k=c.which,e.changeFace(c.face)}else"up"===a&&(console.log("mouse up on "+e.id),E||i(k))},r=function(a){if(e.gameOver)t();else if(!(e.gameOver||y||e.sq.revealed))if("start"===a)E=!0,console.log("touch started on "+e.id),e.changeFace(C.touchStart(e.sq.flagged).face),n.current=setInterval((function(){A++,console.log(A)}),800);else if("end"===a){console.log("touch ended on "+e.id),clearInterval(n.current);var c=C.touchEnd(A);if(e.sq.flagged&&"left"===c.which)return void e.changeFace(c.face);i(c.which)}},i=function(n){k="left",A=0,e.onClick(e.sq.row,e.sq.col,n)};return Object(_.jsx)("button",{className:"".concat(S.a.grid_square," windows95 ").concat(e.sq.revealed&&S.a.clicked_square),onMouseDown:function(e){return c(e,"down")},onMouseUp:E?void 0:function(e){return c(e,"up")},onTouchStart:function(){return r("start")},onTouchEnd:y?void 0:function(){return r("end")},onContextMenu:function(e){return e.preventDefault()},children:Array.isArray(e.sq.display)?String.fromCharCode(e.sq.display[0],e.sq.display[1]):e.sq.display})},R=t(14),M=t.n(R),z=function(e){return e.boardGrid.map((function(n,t){return Object(_.jsx)("div",{className:M.a.board_row,children:n.map((function(n){return Object(_.jsx)(F,{id:n.key,sq:n,onClick:e.handleSquareClick,changeFace:e.setFace,gameOver:!e.gameInProgress},n.key)}))},"row-".concat(t))}))},B=function(e,n){return[n-1>=0?e[n-1]:null,e[n],n+1<e.length?e[n+1]:null]},G=function(e,n){return Array.from(Array(e),(function(e,t){return Array.from(Array(n),(function(e,n){return function(e,n){return{key:"cell-"+e+"-"+n,row:e,col:n,ant:!1,revealed:!1,display:v.unclicked,flagged:!1,nearbyAnts:0,neighbors:[]}}(t,n)}))}))},I=function(e,n){for(var t=Array.from(Array(e),(function(e,n){return{id:n+1,ant:!1}})),a=0;a<n;a++)t[a].ant=!0;return function(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),a=[e[t],e[n]];e[n]=a[0],e[t]=a[1]}return e}(t)},J=function(e){return e.forEach((function(n,t){n.forEach((function(n,a){var c=0,r=function(e,n,t){var a=n-1>=0?B(e[n-1],t):[null,null,null],c=B(e[n],t),r=n+1<e.length?B(e[n+1],t):[null,null,null];return a.concat(c,r)}(e,t,a);r.forEach((function(e){e&&e.ant&&c++})),n.nearbyAnts=c,n.neighbors=r.filter((function(e){return null!==e}))}))})),e},U=function(e){var n=e.rows,t=e.cols,a=e.ants;return function(e,n,t){var a=I(n,t),c=n-1;return e.forEach((function(e){e.forEach((function(e){e.ant=a[c].ant,c--}))})),J(e)}(G(n,t),n*t,a)},P=t(9),W=t.n(P),H=function(){var e=Object(a.useState)([]),n=Object(d.a)(e,2),t=n[0],c=n[1],r=Object(a.useState)(!1),i=Object(d.a)(r,2),o=i[0],s=i[1],l=Object(a.useState)({rows:8,cols:8,ants:10}),f=Object(d.a)(l,2),g=f[0],b=(f[1],Object(a.useState)(D.sleeping)),j=Object(d.a)(b,2),m=j[0],p=j[1],h=Object(a.useState)(0),w=Object(d.a)(h,2),O=w[0],v=w[1],C=Object(a.useCallback)((function(e,n,a){var r=Object(u.a)(t),i=t[e][n];console.log("handling a "+a+" click for:"),console.log(i);var o=N.routeClick(i,a,O);r[e][n]=o.square,o.square.nearbyAnts,c(r),p(o.face),v(o.flags),s(o.continue)}),[t,O]);return Object(_.jsx)("section",{className:W.a.window__inner,children:Object(_.jsxs)("div",{className:W.a.board__outer,children:[Object(_.jsx)(x,{startGame:function(){c([]),c(U(g)),s(!0),p(D.smiling),v(g.ants)},inProgress:o,face:m,flags:O}),Object(_.jsx)("section",{className:W.a.board__inner,children:t?Object(_.jsx)(z,{boardGrid:t,handleSquareClick:C,setFace:p,gameInProgress:o}):null})]})})},T=t(15),L=t.n(T),V=function(){return Object(_.jsxs)("main",{className:"windows95 ".concat(L.a.main_window),children:[Object(_.jsx)(l,{}),Object(_.jsx)(H,{})]})},Y=t(16),K=t.n(Y),X=function(){return Object(_.jsxs)("footer",{className:"windows95 ".concat(K.a.windows_footer),children:[Object(_.jsx)("span",{}),Object(_.jsx)("span",{})]})},Z=t(17),Q=t.n(Z);var $=function(){return Object(_.jsxs)("div",{className:Q.a.App,children:[Object(_.jsx)(V,{}),Object(_.jsx)(X,{})]})};i.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)($,{})}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.8c986b9f.chunk.js.map